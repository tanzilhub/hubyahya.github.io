<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debezium Connector for Oracle :: Debezium Documentation</title>
    <link rel="canonical" href="https://www.debezium.io/documentation/reference/stable/connectors/oracle.html">
    <meta name="generator" content="Antora 3.0.0-alpha.9">
<link rel="stylesheet" href="../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vitess.html">Vitess</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/embedded.html">Embedding Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">nightly</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">nightly</a>
        </li>
        <li class="version">
          <a href="../dev/index.html">dev</a>
        </li>
        <li class="version">
          <a href="../stable/index.html">stable</a>
        </li>
        <li class="version">
          <a href="../1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../1.0/index.html">1.0</a>
        </li>
        <li class="version">
          <a href="../0.10/index.html">0.10</a>
        </li>
        <li class="version">
          <a href="../0.9/index.html">0.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Connectors</li>
    <li><a href="oracle.html">Oracle</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">nightly</button>
        <!--<button class="version-menu-toggle versions-menu-select" title="Select other versions">Select</button>-->
        <div class="version-menu">
                <a class="version is-current" href="oracle.html">nightly</a>
                <a class="version" href="../dev/connectors/oracle.html">dev</a>
                <a class="version" href="../stable/connectors/oracle.html">stable</a>
                <a class="version" href="../1.5/connectors/oracle.html">1.5</a>
                <a class="version" href="../1.4/connectors/oracle.html">1.4</a>
                <a class="version" href="../1.3/connectors/oracle.html">1.3</a>
                <a class="version" href="../1.2/connectors/oracle.html">1.2</a>
                <a class="version" href="../1.1/connectors/oracle.html">1.1</a>
                <a class="version" href="../1.0/connectors/oracle.html">1.0</a>
                <a class="version" href="../0.10/connectors/oracle.html">0.10</a>
                <a class="version" href="../0.9/connectors/oracle.html">0.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/uidoyen/debezium/edit/master/documentation/modules/ROOT/pages/connectors/oracle.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
            <div class="version-banner version-banner-outdated">
    You are viewing documentation for an outdated version of Debezium.
    <br/>
</div>            <h1 class="page">Debezium Connector for Oracle</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#oracle-overview">Overview</a></li>
<li><a href="#how-the-oracle-connector-works">How the Oracle connector works</a>
<ul class="sectlevel2">
<li><a href="#oracle-snapshots">Snapshots</a></li>
<li><a href="#oracle-topic-names">Topic names</a></li>
<li><a href="#oracle-schema-change-topic">Schema change topic</a></li>
<li><a href="#oracle-transaction-metadata">Transaction Metadata</a></li>
</ul>
</li>
<li><a href="#oracle-events">Data change events</a>
<ul class="sectlevel2">
<li><a href="#oracle-change-event-keys">Change event keys</a></li>
<li><a href="#oracle-change-event-values">Change event values</a></li>
<li><a href="#oracle-create-events"><em>create</em> events</a></li>
<li><a href="#oracle-update-events"><em>update</em> events</a></li>
<li><a href="#oracle-delete-events"><em>delete</em> events</a></li>
</ul>
</li>
<li><a href="#oracle-data-type-mappings">Data type mappings</a>
<ul class="sectlevel2">
<li><a href="#oracle-character-types">Character types</a></li>
<li><a href="#oracle-binary-character-lob-types">Binary and Character LOB types</a></li>
<li><a href="#oracle-numeric-types">Numeric types</a></li>
<li><a href="#oracle-boolean-types">Boolean types</a></li>
<li><a href="#oracle-decimal-types">Decimal types</a></li>
<li><a href="#oracle-temporal-types">Temporal types</a></li>
</ul>
</li>
<li><a href="#setting-up-oracle">Setting up Oracle</a>
<ul class="sectlevel2">
<li><a href="#_preparing_the_database">Preparing the database</a></li>
<li><a href="#creating-users-for-the-connector">Creating users for the connector</a></li>
</ul>
</li>
<li><a href="#oracle-deploying-a-connector">Deployment</a>
<ul class="sectlevel2">
<li><a href="#obtaining-oracle-jdbc-driver-and-xstreams-api-files">Obtaining the Oracle JDBC driver and XStream API files</a></li>
<li><a href="#oracle-example-configuration">Debezium Oracle connector configuration</a></li>
<li><a href="#pluggable-vs-non-pluggable-databases">Pluggable vs Non-Pluggable databases</a></li>
<li><a href="#oracle-adding-connector-configuration">Adding connector configuration</a></li>
<li><a href="#oracle-connector-properties">Connector properties</a></li>
</ul>
</li>
<li><a href="#oracle-monitoring">Monitoring</a>
<ul class="sectlevel2">
<li><a href="#oracle-snapshot-metrics">Snapshot Metrics</a></li>
<li><a href="#oracle-streaming-metrics">Streaming Metrics</a></li>
<li><a href="#oracle-schema-history-metrics">Schema History Metrics</a></li>
</ul>
</li>
<li><a href="#surrogate-schema-evolution">Surrogate schema evolution</a></li>
<li><a href="#oracle-xstreams-support">XStreams support</a>
<ul class="sectlevel2">
<li><a href="#_preparing_the_database_2">Preparing the Database</a></li>
<li><a href="#_creating_xstream_users_for_the_connector">Creating XStream users for the connector</a></li>
<li><a href="#_create_an_xstream_outbound_server">Create an XStream Outbound Server</a></li>
<li><a href="#selecting-the-adapter">Configuring the XStream adapter</a></li>
<li><a href="#oracle-xstreams-connector-properties">XStream connector properties</a></li>
</ul>
</li>
<li><a href="#oracle-when-things-go-wrong">Behavior when things go wrong</a>
<ul class="sectlevel2">
<li><a href="#oracle-cannot-reference-overflow-table">ORA-25191 - Cannot reference overflow table of an index-organized table</a></li>
<li><a href="#oracle-sys-system-change-not-emitted">LogMiner adapter does not capture changes made by SYS or SYSTEM</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-overview"><a class="anchor" href="#oracle-overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debezium&#8217;s Oracle connector captures and records row-level changes that occur in databases on an Oracle server,
including tables that are added while the connector is running.
You can configure the connector to emit change events for specific subsets of schemas and tables, or to ignore, mask, or truncate values in specific columns.</p>
</div>
<div class="paragraph">
<p>Debezium ingests change events from Oracle by using the native LogMiner database package
 or the <a href="https://docs.oracle.com/database/121/XSTRM/xstrm_intro.htm#XSTRM72647">XStream API</a>.
While the connector might work with a variety of Oracle versions and editions, only Oracle EE 12 and 19 have been tested.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-the-oracle-connector-works"><a class="anchor" href="#how-the-oracle-connector-works"></a>How the Oracle connector works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To optimally configure and run a Debezium Oracle connector, it is helpful to understand how the connector performs snapshots, streams change events, determines Kafka topic names, and uses metadata.</p>
</div>
<div class="sect2">
<h3 id="oracle-snapshots"><a class="anchor" href="#oracle-snapshots"></a>Snapshots</h3>
<div class="paragraph">
<p>Typically, the redo logs on an Oracle server are configured to not retain the complete history of the database.
As a result, the Debezium Oracle connector cannot retrieve the entire history of the database from the logs.
To enable the connector to establish a baseline for the current state of the database, the first time that the connector starts, it performs an initial <em>consistent snapshot</em> of the database.</p>
</div>
<div class="paragraph">
<p>You can customize the way that the connector creates snapshots by setting the value of the <a href="#oracle-connector-snapshot-mode-configuration-property"><code>snapshot.mode</code></a> connector configuration property.
By default, the connector&#8217;s snapshot mode is set to <code>initial</code>.</p>
</div>
<div id="default-workflow-for-performing-an-initial-snapshot" class="paragraph">
<div class="title">Default connector workflow for creating an initial snapshot</div>
<p>When the snapshot mode is set to the default, the connector completes the following tasks to create a snapshot:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Determines the tables to be captured</p>
</li>
<li>
<p>Obtains a <code>ROW SHARE MODE</code> lock on each of the monitored tables to prevent structural changes from occurring during creation of the snapshot. Debezium holds the locks for only a short time.</p>
</li>
<li>
<p>Reads the current system change number (SCN) position from the server&#8217;s redo log.</p>
</li>
<li>
<p>Captures the structure of all relevant tables.</p>
</li>
<li>
<p>Releases the locks obtained in Step 2.</p>
</li>
<li>
<p>Scans all of the relevant database tables and schemas as valid at the SCN position that was read in Step 3 (<code>SELECT * FROM &#8230;&#8203; AS OF SCN 123</code>), generates a <code>READ</code> event for each row, and then writes the event records to the table-specific Kafka topic.</p>
</li>
<li>
<p>Records the successful completion of the snapshot in the connector offsets.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After the snapshot process begins, if the process is interrupted due to connector failure, rebalancing, or other reasons, the process restarts after the connector restarts.
After the connector completes the initial snapshot, it continues streaming from the position that it read in Step 3 so that it does not miss any updates.
If the connector stops again for any reason, after it restarts, it resumes streaming changes from where it previously left off.</p>
</div>
<table id="oracle-connector-snapshot-mode-configuration-property" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Settings for <code>snapshot.mode</code> connector configuration property</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>initial</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The connector performs a database snapshot as described in the <a href="#default-workflow-for-performing-an-initial-snapshot">default workflow for creating an initial snapshot</a>.
After the snapshot completes, the connector begins to stream event records for subsequent database changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>schema_only</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The connector captures the structure of all relevant tables, performing all of the steps described in the <a href="#default-workflow-for-performing-an-initial-snapshot">default snapshot workflow</a>, except that it does not create <code>READ</code> events to represent the data set at the point of the connector&#8217;s start-up (Step 6).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="oracle-adhoc-snapshot"></a></p>
</div>
<div class="sect3">
<h4 id="_ad_hoc_snapshot"><a class="anchor" href="#_ad_hoc_snapshot"></a>Ad-hoc snapshot</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This feature is currently in incubating state, i.e. exact semantics, configuration options etc. may change in future revisions, based on the feedback we receive.
Please let us know if you encounter any problems while using this extension.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the initial snapshot is completed then it is not executed again as further data are acquired via streaming.</p>
</div>
<div class="paragraph">
<p>Sometimes it would be really useful to re-execute a snapshot, either completely, or for only a subset of tables.
Examples for such use cases include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a new table was added into the list of captured tables</p>
</li>
<li>
<p>some of the topics were deleted and their content needs to be rebuilt</p>
</li>
<li>
<p>the data were corrupted due to a configuration error</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Debezium can be requested via the <a href="../configuration/signalling.html" class="page">signalling table</a> mechanism to execute a new snapshot of a defined list of tables.
The signal is named <code>execute-snapshot</code> and accepts messages in the following format:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Example of a signal record</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the snapshot to be executed. Currently only <code>incremental</code> is supported.<br>
See the next section for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of qualified names of table to be snapshotted.<br>
The format of the names is the same as for <a href="#oracle-property-signal-data-collection">signal.data.collection</a> configuration option.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An example of the signal to be triggered is this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO myschema.debezium_signal VALUES('ad-hoc-1', 'execute-snapshot', '{"data-collections": ["schema1.table1", "schema1.table2"]}')</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="oracle-incremental-snapshot"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_incremental_snapshot"><a class="anchor" href="#_incremental_snapshot"></a>Incremental snapshot</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This feature is currently in incubating state, i.e. exact semantics, configuration options etc. may change in future revisions, based on the feedback we receive.
Please let us know if you encounter any problems while using this extension.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Initial snapshots are a great way to obtain a consistent set of all data stored in a database upfront.
But there are also some downsides to this approach, though:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For larger datasets it can take very long to complete; hours or even days</p>
</li>
<li>
<p>The snapshot must be completed before the start of streaming</p>
</li>
<li>
<p>Snapshots are not resumable
If a snapshot hasn&#8217;t been completed when the connector gets stopped or restarted, the snapshot must be restarted from scratch</p>
</li>
<li>
<p>New tables that are added among the captured ones later are not snapshotted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To mitigate these issues, a new mechanism called <em>incremental snapshotting</em> has been introduced.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Incremental snapshots can be started current only as <a href="#oracle-adhoc-snapshot">an ad-hoc snapshot</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Configuration option <a href="#oracle-property-signal-data-collection">signal.data.collection</a> must be set.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Incremental snapshot is based on <a href="https://github.com/debezium/debezium-design-documents/blob/main/DDD-3.md">DDD-3</a> design document.
In this case the table is snapshotted in chunks and streaming and snapshot events are blended together.
The snaphot events are still denoted using operation <code>r</code> and the <code>snapshot</code> field in <code>source</code> info block is set to <code>incremental</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "before":null,
   "after": {
      "pk":"1",
      "value":"New data"
   },
   "source": {
...
      "snapshot":"incremental"
   },
   "op":"r",
   "ts_ms":"1620393591654",
   "transaction":null
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The incremental snapshot events should be understood in a different way than events from an initial snapshot.
The <code>read</code> events should be understood like a materialization of data in a certain period of time.
This means that event semantics differ between initial and incremental snapshots:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>update</code> and <code>delete</code> events can arrive before <code>read</code> events</p>
</li>
<li>
<p>if <code>delete</code> event arrives first then <code>read</code> event is never delivered</p>
</li>
<li>
<p>if <code>update</code> event arrives first then <code>read</code> event will either not be delivered at all or it will be delivered with the updated value</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oracle-topic-names"><a class="anchor" href="#oracle-topic-names"></a>Topic names</h3>
<div class="paragraph">
<p>The default behavior is that a Debezium Oracle connector writes events for all <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> operations in one table to one Kafka topic.
The Kafka topic naming convention is as follows:</p>
</div>
<div class="paragraph">
<p><em>serverName.schemaName.tableName</em></p>
</div>
<div class="paragraph">
<p>For example, if <code>fulfillment</code> is the server name, <code>inventory</code> is the schema name, and the database contains tables with the names <code>orders</code>, <code>customers</code>, and <code>products</code>,
the Debezium Oracle connector emits events to the following Kafka topics, one for each table in the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>fulfillment.inventory.orders
fulfillment.inventory.customers
fulfillment.inventory.products</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oracle-schema-change-topic"><a class="anchor" href="#oracle-schema-change-topic"></a>Schema change topic</h3>
<div class="paragraph">
<p>The Debezium Oracle connector stores the history of schema changes in a database history topic.
This topic reflects an internal connector state and you should not use it directly.
Applications that require notifications about schema changes should obtain the information from the public schema change topic.
The connector writes schema change events to a Kafka topic named <code>&lt;serverName&gt;</code>, where <code>serverName</code> is the name of the connector that is specified in the <code>database.server.name</code> configuration property.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The schema change topic message format is in an incubating state and might change without notice.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Debezium emits a new message to this topic whenever it streams data from a new table.</p>
</div>
<div class="paragraph">
<p>Debezium emits a new message to this topic whenever it streams data from a new table, or when the structure of the table is altered.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Following a change in table structure, you must follow (the <a href="#oracle-schema-evolution">schema evolution procedure</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The message contains a logical representation of the table schema.</p>
</div>
<div class="paragraph">
<div class="title">Example: Message emitted to the schema change topic</div>
<p>The following example shows a typical schema change message in JSON format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
  ...
  },
  "payload": {
    "source": {
      "version": "1.7.0.CR1",
      "connector": "oracle",
      "name": "server1",
      "ts_ms": 1588252618953,
      "snapshot": "true",
      "db": "ORCLPDB1",
      "schema": "DEBEZIUM",
      "table": "CUSTOMERS",
      "txId" : null,
      "scn" : "1513734",
      "commit_scn": "1513734",
      "lcr_position" : null
    },
    "databaseName": "ORCLPDB1", <i class="conum" data-value="1"></i><b>(1)</b>
    "schemaName": "DEBEZIUM", //
    "ddl": "CREATE TABLE \"DEBEZIUM\".\"CUSTOMERS\" \n   (    \"ID\" NUMBER(9,0) NOT NULL ENABLE, \n    \"FIRST_NAME\" VARCHAR2(255), \n    \"LAST_NAME" VARCHAR2(255), \n    \"EMAIL\" VARCHAR2(255), \n     PRIMARY KEY (\"ID\") ENABLE, \n     SUPPLEMENTAL LOG DATA (ALL) COLUMNS\n   ) SEGMENT CREATION IMMEDIATE \n  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 \n NOCOMPRESS LOGGING\n  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645\n  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1\n  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)\n  TABLESPACE \"USERS\" ", <i class="conum" data-value="2"></i><b>(2)</b>
    "tableChanges": [ <i class="conum" data-value="3"></i><b>(3)</b>
      {
        "type": "CREATE", <i class="conum" data-value="4"></i><b>(4)</b>
        "id": "\"ORCLPDB1\".\"DEBEZIUM\".\"CUSTOMERS\"", <i class="conum" data-value="5"></i><b>(5)</b>
        "table": { <i class="conum" data-value="6"></i><b>(6)</b>
          "defaultCharsetName": null,
          "primaryKeyColumnNames": [ <i class="conum" data-value="7"></i><b>(7)</b>
            "ID"
          ],
          "columns": [ <i class="conum" data-value="8"></i><b>(8)</b>
            {
              "name": "ID",
              "jdbcType": 2,
              "nativeType": null,
              "typeName": "NUMBER",
              "typeExpression": "NUMBER",
              "charsetName": null,
              "length": 9,
              "scale": 0,
              "position": 1,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "FIRST_NAME",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "VARCHAR2",
              "typeExpression": "VARCHAR2",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 2,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "LAST_NAME",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "VARCHAR2",
              "typeExpression": "VARCHAR2",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 3,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "EMAIL",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "VARCHAR2",
              "typeExpression": "VARCHAR2",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 4,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            }
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Descriptions of fields in messages emitted to the schema change topic</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>databaseName</code><br>
<code>schemaName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the database and the schema that contains the change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ddl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This field contains the DDL that is responsible for the schema change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tableChanges</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of one or more items that contain the schema changes generated by a DDL command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Describes the kind of change. The value is one of the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>CREATE</code></dt>
<dd>
<p>Table created.</p>
</dd>
<dt class="hdlist1"><code>ALTER</code></dt>
<dd>
<p>Table modified.</p>
</dd>
<dt class="hdlist1"><code>DROP</code></dt>
<dd>
<p>Table deleted.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full identifier of the table that was created, altered, or dropped.
In the case of a table rename, this identifier is a concatenation of <code><em>&lt;old&gt;</em>,<em>&lt;new&gt;</em></code> table names.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents table metadata after the applied change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>primaryKeyColumnNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of columns that compose the table&#8217;s primary key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>columns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata for each column in the changed table.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Messages that the connector sends to the schema change topic use a message key that is equal to the name of the database that contains the schema change.
In the following example, the <code>payload</code> field contains the key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
    "type": "struct",
    "fields": [
      {
        "type": "string",
        "optional": false,
        "field": "databaseName"
      }
    ],
    "optional": false,
    "name": "io.debezium.connector.oracle.SchemaChangeKey"
  },
  "payload": {
    "databaseName": "ORCLPDB1"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oracle-transaction-metadata"><a class="anchor" href="#oracle-transaction-metadata"></a>Transaction Metadata</h3>
<div class="paragraph">
<p>Debezium can generate events that represent transaction metadata boundaries and that enrich data change event messages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Limits on when Debezium receives transaction metadata</div>
<div class="paragraph">
<p>Debezium registers and receives metadata only for transactions that occur after you deploy the connector.
Metadata for transactions that occur before you deploy the connector is not available.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Database transactions are represented by a statement block that is enclosed between the <code>BEGIN</code> and <code>END</code> keywords.
Debezium generates transaction boundary events for the <code>BEGIN</code> and <code>END</code> delimiters in every transaction.
Transaction boundary events contain the following fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>status</code></dt>
<dd>
<p><code>BEGIN</code> or <code>END</code></p>
</dd>
<dt class="hdlist1"><code>id</code></dt>
<dd>
<p>String representation of unique transaction identifier.</p>
</dd>
<dt class="hdlist1"><code>event_count</code> (for <code>END</code> events)</dt>
<dd>
<p>Total number of events emmitted by the transaction.</p>
</dd>
<dt class="hdlist1"><code>data_collections</code> (for <code>END</code> events)</dt>
<dd>
<p>An array of pairs of <code>data_collection</code> and <code>event_count</code> that provides number of events emitted by changes originating from the given data collection.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following example shows a typical transaction boundary message:</p>
</div>
<div class="listingblock">
<div class="title">Example: Oracle connector transaction boundary event</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "status": "BEGIN",
  "id": "5.6.641",
  "event_count": null,
  "data_collections": null
}

{
  "status": "END",
  "id": "5.6.641",
  "event_count": 2,
  "data_collections": [
    {
      "data_collection": "ORCLPDB1.DEBEZIUM.CUSTOMER",
      "event_count": 1
    },
    {
      "data_collection": "ORCLPDB1.DEBEZIUM.ORDER",
      "event_count": 1
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The transaction events are written to the topic named <code><em>&lt;database.server.name&gt;</em>.transaction</code>.</p>
</div>
<div class="sect3">
<h4 id="_change_data_event_enrichment"><a class="anchor" href="#_change_data_event_enrichment"></a>Change data event enrichment</h4>
<div class="paragraph">
<p>When transaction metadata is enabled, the data message <code>Envelope</code> is enriched with a new <code>transaction</code> field.
This field provides information about every event in the form of a composite of fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>id</code></dt>
<dd>
<p>String representation of unique transaction identifier.</p>
</dd>
<dt class="hdlist1"><code>total_order</code></dt>
<dd>
<p>The absolute position of the event among all events generated by the transaction.</p>
</dd>
<dt class="hdlist1"><code>data_collection_order</code></dt>
<dd>
<p>The per-data collection position of the event among all events that were emitted by the transaction.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following example shows a typical transaction event message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "before": null,
  "after": {
    "pk": "2",
    "aa": "1"
  },
  "source": {
...
  },
  "op": "c",
  "ts_ms": "1580390884335",
  "transaction": {
    "id": "5.6.641",
    "total_order": "1",
    "data_collection_order": "1"
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-events"><a class="anchor" href="#oracle-events"></a>Data change events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every data change event that the Oracle connector emits has a key and a value.
The structures of the key and value depend on the table from which the change events originate.
For information about how Debezium constructs topic names, see <a href="#oracle-topic-names">Topic names</a>).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Debezium Oracle connector ensures that all Kafka Connect <em>schema names</em> are <a href="http://avro.apache.org/docs/current/spec.html#names">valid Avro schema names</a>.
This means that the logical server name must start with alphabetic characters or an underscore ([a-z,A-Z,_]),
and the remaining characters in the logical server name and all characters in the schema and table names must be alphanumeric characters or an underscore ([a-z,A-Z,0-9,\_]).
The connector automatically replaces invalid characters with an underscore character.</p>
</div>
<div class="paragraph">
<p>Unexpected naming conflicts can result when the only distinguishing characters between multiple logical server names, schema names, or table names are not valid characters, and those characters are replaced with underscores.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Debezium and Kafka Connect are designed around <em>continuous streams of event messages</em>.
However, the structure of these events might change over time, which can be difficult for topic consumers to handle.
To facilitate the processing of mutable event structures, each event in Kafka Connect is self-contained.
Every message key and value has two parts: a <em>schema</em> and <em>payload</em>.
The schema describes the structure of the payload, while the payload contains the actual data.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Changes that are performed by the <code>SYS</code> or <code>SYSTEM</code> user accounts are not captured by the connector.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="oracle-change-event-keys"><a class="anchor" href="#oracle-change-event-keys"></a>Change event keys</h3>
<div class="paragraph">
<p>For each changed table, the change event key is structured such that a field exists for each column in the primary key (or unique key constraint) of the table at the time when the event is created.</p>
</div>
<div class="paragraph">
<p>For example, a <code>customers</code> table that is defined in the <code>inventory</code> database schema, might have the following change event key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE customers (
  id NUMBER(9) GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1001) NOT NULL PRIMARY KEY,
  first_name VARCHAR2(255) NOT NULL,
  last_name VARCHAR2(255) NOT NULL,
  email VARCHAR2(255) NOT NULL UNIQUE
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the value of the <code>database.server.name</code> configuration property is set to <code>server1</code>,
the JSON representation for every change event that occurs in the <code>customers</code> table in the database features the following key structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "schema": {
        "type": "struct",
        "fields": [
            {
                "type": "int32",
                "optional": false,
                "field": "ID"
            }
        ],
        "optional": false,
        "name": "server1.INVENTORY.CUSTOMERS.Key"
    },
    "payload": {
        "ID": 1004
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>schema</code> portion of the key contains a Kafka Connect schema that describes the content of the key portion.
In the preceding example, the <code>payload</code> value is not optional, the structure is defined by a schema named <code>server1.DEBEZIUM.CUSTOMERS.Key</code>, and there is one required field named <code>id</code> of type <code>int32</code>.
The value of the key&#8217;s <code>payload</code> field indicates that it is indeed a structure (which in JSON is just an object) with a single <code>id</code> field, whose value is <code>1004</code>.</p>
</div>
<div class="paragraph">
<p>Therefore, you can interpret this key as describing the row in the <code>inventory.customers</code> table (output from the connector named <code>server1</code>) whose <code>id</code> primary key column had a value of <code>1004</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="oracle-change-event-values"><a class="anchor" href="#oracle-change-event-values"></a>Change event values</h3>
<div class="paragraph">
<p>Like the message key, the value of a change event message has a <em>schema</em> section and <em>payload</em> section.
The payload section of every change event value produced by the Oracle connector has an <em>envelope</em> structure with the following fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>op</code></dt>
<dd>
<p>A mandatory field that contains a string value describing the type of operation. Values for the Oracle connector are <code>c</code> for create (or insert), <code>u</code> for update, <code>d</code> for delete, and <code>r</code> for read (in the case of a snapshot).</p>
</dd>
<dt class="hdlist1"><code>before</code></dt>
<dd>
<p>An optional field that, if present, contains the state of the row <em>before</em> the event occurred. The structure is described by the <code>server1.INVENTORY.CUSTOMERS.Value</code> Kafka Connect schema, which the <code>server1</code> connector uses for all rows in the <code>inventory.customers</code> table.</p>
</dd>
</dl>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>after</code></dt>
<dd>
<p>An optional field that if present contains the state of the row <em>after</em> the event occurred. The structure is described by the same <code>server1.INVENTORY.CUSTOMERS.Value</code> Kafka Connect schema used in <code>before</code>.</p>
</dd>
<dt class="hdlist1"><code>source</code></dt>
<dd>
<p>A mandatory field that contains a structure describing the source metadata for the event, which in the case of Oracle contains these fields: the Debezium version, the connector name, whether the event is part of an ongoing snapshot or not, the transaction id (not while snapshotting), the SCN of the change, and a timestamp representing the point in time when the record was changed in the source database (during snapshotting, this is the point in time of snapshotting).</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>commit_scn</code> field is optional and describes the SCN of the transaction commit that the change event participates within.
This field is only present when using the LogMiner connection adapter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ts_ms</code></dt>
<dd>
<p>An optional field that, if present, contains the time (using the system clock in the JVM running the Kafka Connect task) at which the connector processed the event.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>And of course, the <em>schema</em> portion of the event message&#8217;s value contains a schema that describes this envelope structure and the nested fields within it.</p>
</div>
</div>
<div class="sect2">
<h3 id="oracle-create-events"><a class="anchor" href="#oracle-create-events"></a><em>create</em> events</h3>
<div class="paragraph">
<p>Let&#8217;s look at what a <em>create</em> event value might look like for our <code>customers</code> table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "schema": {
        "type": "struct",
        "fields": [
            {
                "type": "struct",
                "fields": [
                    {
                        "type": "int32",
                        "optional": false,
                        "field": "ID"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "FIRST_NAME"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "LAST_NAME"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "EMAIL"
                    }
                ],
                "optional": true,
                "name": "server1.DEBEZIUM.CUSTOMERS.Value",
                "field": "before"
            },
            {
                "type": "struct",
                "fields": [
                    {
                        "type": "int32",
                        "optional": false,
                        "field": "ID"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "FIRST_NAME"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "LAST_NAME"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "EMAIL"
                    }
                ],
                "optional": true,
                "name": "server1.DEBEZIUM.CUSTOMERS.Value",
                "field": "after"
            },
            {
                "type": "struct",
                "fields": [
                    {
                        "type": "string",
                        "optional": true,
                        "field": "version"
                    },
                    {
                        "type": "string",
                        "optional": false,
                        "field": "name"
                    },
                    {
                        "type": "int64",
                        "optional": true,
                        "field": "ts_ms"
                    },
                    {
                        "type": "string",
                        "optional": true,
                        "field": "txId"
                    },
                    {
                        "type": "string",
                        "optional": true,
                        "field": "scn"
                    },
                    {
                        "type": "string",
                        "optional": true,
                        "field": "commit_scn"
                    },
                    {
                        "type": "boolean",
                        "optional": true,
                        "field": "snapshot"
                    }
                ],
                "optional": false,
                "name": "io.debezium.connector.oracle.Source",
                "field": "source"
            },
            {
                "type": "string",
                "optional": false,
                "field": "op"
            },
            {
                "type": "int64",
                "optional": true,
                "field": "ts_ms"
            }
        ],
        "optional": false,
        "name": "server1.DEBEZIUM.CUSTOMERS.Envelope"
    },
    "payload": {
        "before": null,
        "after": {
            "ID": 1004,
            "FIRST_NAME": "Anne",
            "LAST_NAME": "Kretchmar",
            "EMAIL": "annek@noanswer.org"
        },
        "source": {
            "version": "1.7.0.CR1",
            "name": "server1",
            "ts_ms": 1520085154000,
            "txId": "6.28.807",
            "scn": "2122185",
            "commit_scn": "2122185",
            "snapshot": false
        },
        "op": "c",
        "ts_ms": 1532592105975
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Examining the <code>schema</code> portion of the preceding event&#8217;s <em>value</em>, we can see how the following schema are defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>envelope</em></p>
</li>
<li>
<p>The <code>source</code> structure (which is specific to the Oracle connector and reused across all events).</p>
</li>
<li>
<p>The table-specific schemas for the <code>before</code> and <code>after</code> fields.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The names of the schemas for the <code>before</code> and <code>after</code> fields are of the form <code><em>&lt;logicalName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em>.Value</code>, and thus are entirely independent from the schemas for all other tables.
This means that when using the <a href="/docs/faq/#avro-converter">Avro Converter</a>, the resulting Avro schems for <em>each table</em> in each <em>logical source</em> have their own evolution and history.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>payload</code> portion of this event&#8217;s <em>value</em>, provides information about the event.
It describes that a row was created (<code>op=c</code>), and shows that the <code>after</code> field value contains the values that were inserted into the <code>ID</code>, <code>FIRST_NAME</code>, <code>LAST_NAME</code>, and <code>EMAIL</code> columns of the row.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, the JSON representations of events are much larger than the rows they describe.
This is true, because the JSON representation must include the <em>schema</em> and the <em>payload</em> portions of the message.
You can use the <a href="/docs/faq/#avro-converter">Avro Converter</a> to significantly decrease the size of the messages that the connector writes to Kafka topics.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="oracle-update-events"><a class="anchor" href="#oracle-update-events"></a><em>update</em> events</h3>
<div class="paragraph">
<p>The value of an <em>update</em> change event on this table has the same <em>schema</em> as the <em>create</em> event. The payload uses the same structure, but it holds different values.
Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "schema": { ... },
    "payload": {
        "before": {
            "ID": 1004,
            "FIRST_NAME": "Anne",
            "LAST_NAME": "Kretchmar",
            "EMAIL": "annek@noanswer.org"
        },
        "after": {
            "ID": 1004,
            "FIRST_NAME": "Anne",
            "LAST_NAME": "Kretchmar",
            "EMAIL": "anne@example.com"
        },
        "source": {
            "version": "1.7.0.CR1",
            "name": "server1",
            "ts_ms": 1520085811000,
            "txId": "6.9.809",
            "scn": "2125544",
            "commit_scn": "2125544",
            "snapshot": false
        },
        "op": "u",
        "ts_ms": 1532592713485
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comparing the value of the <em>update</em> event to the <em>create</em> (insert) event, notice the following differences in the <code>payload</code> section:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>op</code> field value is now <code>u</code>, signifying that this row changed because of an update</p>
</li>
<li>
<p>The <code>before</code> field now has the state of the row with the values before the database commit</p>
</li>
<li>
<p>The <code>after</code> field now has the updated state of the row, and here was can see that the <code>EMAIL</code> value is now <code>anne@example.com</code>.</p>
</li>
<li>
<p>The <code>source</code> field structure has the same fields as before, but the values are different since this event is from a different position in the redo log.</p>
</li>
<li>
<p>The <code>ts_ms</code> shows the timestamp that Debezium processed this event.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>payload</code> section reveals several other useful pieces of information.
For example, by comparing the <code>before</code> and <code>after</code> structures, we can determine how a row changed as the result of a commit.
The <code>source</code> structure provides information about Oracle&#8217;s record of this change, providing traceability.
It also gives us insight into when this event occurred in relation to other events in this topic and in other topics.
Did it occur before, after, or as part of the same commit as another event?</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the columns for a row&#8217;s primary/unique key are updated, the value of the row&#8217;s key changes.
As a result, Debezium emits <em>three</em> events after such an update:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>DELETE</code> event.</p>
</li>
<li>
<p>A <a href="#oracle-tombstone-events">tombstone event</a> with the old key for the row.</p>
</li>
<li>
<p>An <code>INSERT</code> event that provides the new key for the row.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="oracle-delete-events"><a class="anchor" href="#oracle-delete-events"></a><em>delete</em> events</h3>
<div class="paragraph">
<p>So far we&#8217;ve seen samples of <em>create</em> and <em>update</em> events.
Now, let&#8217;s look at the value of a <em>delete</em> event for the same table. As is the case with <em>create</em> and <em>update</em> events, for a <code><em>delete</em></code> event, the <code>schema</code> portion of the value is exactly the same:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "schema": { ... },
    "payload": {
        "before": {
            "ID": 1004,
            "FIRST_NAME": "Anne",
            "LAST_NAME": "Kretchmar",
            "EMAIL": "anne@example.com"
        },
        "after": null,
        "source": {
            "version": "1.7.0.CR1",
            "name": "server1",
            "ts_ms": 1520085153000,
            "txId": "6.28.807",
            "scn": "2122184",
            "commit_scn": "2122184",
            "snapshot": false
        },
        "op": "d",
        "ts_ms": 1532592105960
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we look at the <code>payload</code> portion, we see a number of differences compared with the <em>create</em> or <em>update</em> event payloads:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>op</code> field value is now <code>d</code>, signifying that this row was deleted</p>
</li>
<li>
<p>The <code>before</code> field now has the state of the row that was deleted with the database commit.</p>
</li>
<li>
<p>The <code>after</code> field is null, signifying that the row no longer exists</p>
</li>
<li>
<p>The <code>source</code> field structure has many of the same values as before, except the <code>ts_ms</code>, <code>scn</code> and <code>txId</code> fields have changed</p>
</li>
<li>
<p>The <code>ts_ms</code> shows the timestamp that Debezium processed this event.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This event gives a consumer all kinds of information that it can use to process the removal of this row.</p>
</div>
<div class="paragraph">
<p>The Oracle connector&#8217;s events are designed to work with <a href="https://cwiki.apache.org/confluence/display/KAFKA/Log+Compaction">Kafka log compaction</a>,
which allows for the removal of some older messages as long as at least the most recent message for every key is kept.
This allows Kafka to reclaim storage space while ensuring the topic contains a complete dataset and can be used for reloading key-based state.</p>
</div>
<div id="oracle-tombstone-events" class="paragraph">
<p>When a row is deleted, the <em>delete</em> event value listed above still works with log compaction, since Kafka can still remove all earlier messages with that same key.
The message value must be set to <code>null</code> to instruct Kafka to remove <em>all messages</em> that share the same key.
To make this possible, by default, Debezium&#8217;s Oracle connector always follows a <em>delete</em> event with a special <em>tombstone</em> event that has the same key but <code>null</code> value.
You can change the default behavior by setting the connector property <a href="#oracle-property-tombstones-on-delete"><code>tombstones.on.delete</code></a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-data-type-mappings"><a class="anchor" href="#oracle-data-type-mappings"></a>Data type mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To represent changes that occur in a table rows, the Debezium Oracle connector emits change events that are structured like the table in which the rows exists.
The event contains a field for each column value.
Column values are represented according to the Oracle data type of the column.
The following sections describe how the connector maps oracle data types to a <em>literal type</em> and a <em>semantic type</em> in event fields.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>literal type</em></dt>
<dd>
<p>Describes how the value is literally represented using Kafka Connect schema types: <code>INT8</code>, <code>INT16</code>, <code>INT32</code>, <code>INT64</code>, <code>FLOAT32</code>, <code>FLOAT64</code>, <code>BOOLEAN</code>, <code>STRING</code>, <code>BYTES</code>, <code>ARRAY</code>, <code>MAP</code>, and <code>STRUCT</code>.</p>
</dd>
<dt class="hdlist1"><em>semantic type</em></dt>
<dd>
<p>Describes how the Kafka Connect schema captures the <em>meaning</em> of the field using the name of the Kafka Connect schema for the field.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Support for further data types is planned for subsequent releases.
Please file a <a href="https://issues.redhat.com/browse/DBZ">JIRA issue</a> for any specific types that might be missing.</p>
</div>
<div class="sect2">
<h3 id="oracle-character-types"><a class="anchor" href="#oracle-character-types"></a>Character types</h3>
<div class="paragraph">
<p>The following table describes how the connector maps basic character types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Mappings for Oracle basic character types</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 16.6666%;">
<col style="width: 61.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Oracle Data Type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>CHAR[(M)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NCHAR[(M)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NVARCHAR2[(M)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>VARCHAR[(M)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>VARCHAR2[(M)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="oracle-binary-character-lob-types"><a class="anchor" href="#oracle-binary-character-lob-types"></a>Binary and Character LOB types</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Support for these data types is currently in incubating state, that is, the exact semantics, configuration options and so forth might change in future revisions, based on feedback we receive.
Please let us know if you encounter any problems while using these data types.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following table describes how the connector maps binary and character large object (LOB) data types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Mappings for Oracle binary and character LOB types</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 16.6666%;">
<col style="width: 61.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Oracle Data Type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BLOB</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The raw bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>CLOB</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>LONG</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>This data type is not supported.</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>LONG RAW</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>This data type is not supported.</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NCLOB</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>RAW</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>This data type is not supported.</em></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="oracle-numeric-types"><a class="anchor" href="#oracle-numeric-types"></a>Numeric types</h3>
<div class="paragraph">
<p>The following table describes how the connector maps numeric types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Mappings for Oracle numeric data types</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 16.6666%;">
<col style="width: 61.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Oracle Data Type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BINARY_FLOAT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BINARY_DOUBLE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DECIMAL[(P, S)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code> / <code>INT8</code> / <code>INT16</code> / <code>INT32</code> / <code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code> if using <code>BYTES</code><br>
<br>
Handled equivalently to <code>NUMBER</code> (note that S defaults to 0 for <code>DECIMAL</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DOUBLE PRECISION</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRUCT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.data.VariableScaleDecimal</code><br>
<br>
Contains a structure with two fields: <code>scale</code> of type <code>INT32</code> that contains the scale of the transferred value and <code>value</code> of type <code>BYTES</code> containing the original value in an unscaled form.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT[(P)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRUCT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.data.VariableScaleDecimal</code><br>
<br>
Contains a structure with two fields: <code>scale</code> of type <code>INT32</code> that contains the scale of the transferred value and <code>value</code> of type <code>BYTES</code> containing the original value in an unscaled form.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTEGER</code>, <code>INT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code><br>
<br>
<code>INTEGER</code> is mapped in Oracle to NUMBER(38,0) and hence can hold values larger than any of the <code>INT</code> types could store</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMBER[(P[, *])]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRUCT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.data.VariableScaleDecimal</code><br>
<br>
Contains a structure with two fields: <code>scale</code> of type <code>INT32</code> that contains the scale of the transferred value and <code>value</code> of type <code>BYTES</code> containing the original value in an unscaled form.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMBER(P, S &lt;= 0)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT8</code> / <code>INT16</code> / <code>INT32</code> / <code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMBER</code> columns with a scale of 0 represent integer numbers.
A negative scale indicates rounding in Oracle, for example, a scale of -2 causes rounding to hundreds.<br>
<br>
Depending on the precision and scale, one of the following matching Kafka Connect integer type is chosen:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>P - S &lt; 3, <code>INT8</code><br></p>
</li>
<li>
<p>P - S &lt; 5, <code>INT16</code><br></p>
</li>
<li>
<p>P - S &lt; 10, <code>INT32</code><br></p>
</li>
<li>
<p>P - S &lt; 19, <code>INT64</code><br></p>
</li>
<li>
<p>P - S &gt;= 19, <code>BYTES</code> (<code>org.apache.kafka.connect.data.Decimal</code>).</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMBER(P, S &gt; 0)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMERIC[(P, S)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code> / <code>INT8</code> / <code>INT16</code> / <code>INT32</code> / <code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code> if using <code>BYTES</code><br>
<br>
Handled equivalently to <code>NUMBER</code> (note that S defaults to 0 for <code>NUMERIC</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>SMALLINT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code><br>
<br>
<code>SMALLINT</code> is mapped in Oracle to NUMBER(38,0) and hence can hold values larger than any of the <code>INT</code> types could store</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>REAL</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRUCT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.data.VariableScaleDecimal</code><br>
<br>
Contains a structure with two fields: <code>scale</code> of type <code>INT32</code> that contains the scale of the transferred value and <code>value</code> of type <code>BYTES</code> containing the original value in an unscaled form.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="oracle-boolean-types"><a class="anchor" href="#oracle-boolean-types"></a>Boolean types</h3>
<div class="paragraph">
<p>Oracle does not natively have support for a <code>BOOLEAN</code> data type; however,
it is common practice to use other data types with certain semantics to simulate the concept of a logical <code>BOOLEAN</code> data type.</p>
</div>
<div class="paragraph">
<p>The operator can configure the out-of-the-box <code>NumberOneToBooleanConverter</code> custom converter that would either map all <code>NUMBER(1)</code> columns to a <code>BOOLEAN</code> or if the <code>selector</code> parameter is set,
then a subset of columns could be enumerated using a comma-separated list of regular expressions.</p>
</div>
<div class="paragraph">
<p>Following is an example configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">converters=boolean
boolean.type=io.debezium.connector.oracle.converters.NumberOneToBooleanConverter
boolean.selector=.*MYTABLE.FLAG,.*.IS_ARCHIVED</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oracle-decimal-types"><a class="anchor" href="#oracle-decimal-types"></a>Decimal types</h3>
<div class="paragraph">
<p>The setting of the Oracle connector configuration property, <code>decimal.handling.mode</code> determines how the connector maps decimal types.</p>
</div>
<div class="paragraph">
<p>When the <code>decimal.handling.mode</code> property is set to <code>precise</code>, the connector uses Kafka Connect <code>org.apache.kafka.connect.data.Decimal</code> logical type for all <code>DECIMAL</code> and <code>NUMERIC</code> columns.
This is the default mode.</p>
</div>
<div class="paragraph">
<p>However, when the <code>decimal.handling.mode</code> property is set to <code>double</code>, the connector represents the values as Java double values with schema type <code>FLOAT64</code>.</p>
</div>
<div class="paragraph">
<p>You can also set the <code>decimal.handling.mode</code> configuration property to use the <code>string</code> option.
When the property is set to <code>string</code>, the connector represents <code>DECIMAL</code> and <code>NUMERIC</code> values as their formatted string representation with schema type <code>STRING</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="oracle-temporal-types"><a class="anchor" href="#oracle-temporal-types"></a>Temporal types</h3>
<div class="paragraph">
<p>Other than Oracle&#8217;s <code>INTERVAL</code>, <code>TIMESTAMP WITH TIME ZONE</code> and <code>TIMESTAMP WITH LOCAL TIME ZONE</code> data types, the other temporal types depend on the value of the <code>time.precision.mode</code> configuration property.</p>
</div>
<div class="paragraph">
<p>When the <code>time.precision.mode</code> configuration property is set to <code>adaptive</code> (the default), then the connector determines the literal and semantic type for the temporal types based on the column&#8217;s data type definition so that events <em>exactly</em> represent the values in the database:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Oracle data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Timestamp</code><br>
<br>
Represents the number of milliseconds past epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTERVAL DAY[(M)] TO SECOND</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.MicroDuration</code><br>
<br>
The number of micro seconds for a time interval using the <code>365.25 / 12.0</code> formula for days per month average.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTERVAL YEAR[(M)] TO MONTH</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.MicroDuration</code><br>
<br>
The number of micro seconds for a time interval using the <code>365.25 / 12.0</code> formula for days per month average.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP(0 - 3)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Timestamp</code><br>
<br>
Represents the number of milliseconds past epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP, TIMESTAMP(4 - 6)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.MicroTimestamp</code><br>
<br>
Represents the number of microseconds past epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP(7 - 9)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.NanoTimestamp</code><br>
<br>
Represents the number of nanoseconds past epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP WITH TIME ZONE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.ZonedTimestamp</code><br>
<br>
A string representation of a timestamp with timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP WITH LOCAL TIME ZONE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.ZonedTimestamp</code><br>
<br>
A string representation of a timestamp in UTC.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When the <code>time.precision.mode</code> configuration property is set to <code>connect</code>, then the connector uses the predefined Kafka Connect logical types.
This can be useful when consumers only know about the built-in Kafka Connect logical types and are unable to handle variable-precision time values.
Because the level of precision that Oracle supports exceeds the level that the logical types in Kafka Connect support, if you set <code>time.precision.mode</code> to <code>connect</code>, <strong>a loss of precision</strong> results when the <em>fractional second precision</em> value of a database column is greater than 3:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Oracle data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Date</code><br>
<br>
Represents the number of days since the epoch.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTERVAL DAY[(M)] TO SECOND</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.MicroDuration</code><br>
<br>
The number of micro seconds for a time interval using the <code>365.25 / 12.0</code> formula for days per month average.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTERVAL YEAR[(M)] TO MONTH</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.MicroDuration</code><br>
<br>
The number of micro seconds for a time interval using the <code>365.25 / 12.0</code> formula for days per month average.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP(0 - 3)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Timestamp</code><br>
<br>
Represents the number of milliseconds since epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP(4 - 6)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Timestamp</code><br>
<br>
Represents the number of milliseconds since epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP(7 - 9)</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Timestamp</code><br>
<br>
Represents the number of milliseconds since epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP WITH TIME ZONE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.ZonedTimestamp</code><br>
<br>
A string representation of a timestamp with timezone information.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TIMESTAMP WITH LOCAL TIME ZONE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.ZonedTimestamp</code><br>
<br>
A string representation of a timestamp in UTC.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-oracle"><a class="anchor" href="#setting-up-oracle"></a>Setting up Oracle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following steps are necessary to set up Oracle for use with the Debezium Oracle connector.
These steps assume the use of the multi-tenancy configuration with a container database and at least one pluggable database.
If you do not intend to use a multi-tenant configuration, it might be necessary to adjust the following steps.</p>
</div>
<div class="paragraph">
<p>For information about using Vagrant to set up Oracle in a virtual machine, see the <a href="https://github.com/debezium/oracle-vagrant-box/">Debezium Vagrant Box for Oracle database</a> GitHub repository.</p>
</div>
<div class="sect2">
<h3 id="_preparing_the_database"><a class="anchor" href="#_preparing_the_database"></a>Preparing the database</h3>
<div class="listingblock">
<div class="title">Configuration needed for Oracle LogMiner</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ORACLE_SID=ORACLCDB dbz_oracle sqlplus /nolog

CONNECT sys/top_secret AS SYSDBA
alter system set db_recovery_file_dest_size = 10G;
alter system set db_recovery_file_dest = '/opt/oracle/oradta/recovery_area' scope=spfile;
shutdown immediate
startup mount
alter database archivelog;
alter database open;
-- Should now "Database log mode: Archive Mode"
archive log list

exit;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition, supplemental logging must be enabled for captured tables or the database in order for data changes to capture the <em>before</em> state of changed database rows.
The following illustrates how to configure this on a specific table, which is the ideal choice to minimize the amount of information captured in the Oracle redo logs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ALTER TABLE inventory.customers ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Minimal supplemental logging must be enabled at the database level and can be configured as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-users-for-the-connector"><a class="anchor" href="#creating-users-for-the-connector"></a>Creating users for the connector</h3>
<div class="paragraph">
<p>For the Debezium Oracle connector to capture change events, it must run as an Oracle LogMiner user that has specific permissions.
The following example shows the SQL for creating an Oracle user account for the connector in a multi-tenant database model.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The connector captures database changes that are made by its own Oracle user account.
However, it does not capture changes that are made by the <code>SYS</code> or <code>SYSTEM</code> user accounts.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="oracle-create-users-logminer" class="listingblock">
<div class="title">Creating the connector&#8217;s LogMiner user</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
  CREATE TABLESPACE logminer_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/logminer_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLPDB1 as sysdba
  CREATE TABLESPACE logminer_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/ORCLPDB1/logminer_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba

  CREATE USER c##dbzuser IDENTIFIED BY dbz
    DEFAULT TABLESPACE logminer_tbs
    QUOTA UNLIMITED ON logminer_tbs
    CONTAINER=ALL;

  GRANT CREATE SESSION TO c##dbzuser CONTAINER=ALL;
  GRANT SET CONTAINER TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$DATABASE to c##dbzuser CONTAINER=ALL;
  GRANT FLASHBACK ANY TABLE TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ANY TABLE TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT_CATALOG_ROLE TO c##dbzuser CONTAINER=ALL;
  GRANT EXECUTE_CATALOG_ROLE TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ANY TRANSACTION TO c##dbzuser CONTAINER=ALL;
  GRANT LOGMINING TO c##dbzuser CONTAINER=ALL;

  GRANT CREATE TABLE TO c##dbzuser CONTAINER=ALL;
  GRANT LOCK ANY TABLE TO c##dbzuser CONTAINER=ALL;
  GRANT CREATE SEQUENCE TO c##dbzuser CONTAINER=ALL;

  GRANT EXECUTE ON DBMS_LOGMNR TO c##dbzuser CONTAINER=ALL;
  GRANT EXECUTE ON DBMS_LOGMNR_D TO c##dbzuser CONTAINER=ALL;

  GRANT SELECT ON V_$LOG TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$LOG_HISTORY TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$LOGMNR_LOGS TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$LOGMNR_CONTENTS TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$LOGMNR_PARAMETERS TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$LOGFILE TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$ARCHIVED_LOG TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$ARCHIVE_DEST_STATUS TO c##dbzuser CONTAINER=ALL;

  exit;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-deploying-a-connector"><a class="anchor" href="#oracle-deploying-a-connector"></a>Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy a Debezium Oracle connector, you install the Debezium Oracle connector archive, configure the connector, and start the connector by adding its configuration to Kafka Connect.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="https://zookeeper.apache.org/">Apache ZooKeeper</a>, <a href="http://kafka.apache.org/">Apache Kafka</a>, and <a href="https://kafka.apache.org/documentation.html#connect">Kafka Connect</a> are installed.</p>
</li>
<li>
<p>Oracle Database is installed, and is <a href="#setting-up-oracle">configured to work with the Debezium connector</a>.</p>
</li>
<li>
<p>You have a copies of the Oracle JDBC driver and the XStream API JAR.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to licensing requirements, the Debezium Oracle connector does not ship with the Oracle JDBC driver or XStream API files.
You must download these files directly from Oracle and add them to your environment.
For more information, see <a href="#obtaining-oracle-jdbc-driver-and-xstreams-api-files">Obtaining the Oracle JDBC driver and XStream API files</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the Debezium <a href="https://repo1.maven.org/maven2/io/debezium/debezium-connector-oracle/1.7.0.CR1/debezium-connector-oracle-1.7.0.CR1-plugin.tar.gz">Oracle connector plug-in archive</a>.</p>
</li>
<li>
<p>Extract the files into your Kafka Connect environment.</p>
</li>
<li>
<p>Add the directory with the JAR files to <a href="https://kafka.apache.org/documentation/#connectconfigs">Kafka Connect&#8217;s <code>plugin.path</code></a>.</p>
</li>
<li>
<p><a href="#oracle-example-configuration">Configure the connector</a> and <a href="#oracle-adding-connector-configuration">add the configuration to your Kafka Connect cluster.</a></p>
</li>
<li>
<p>Restart your Kafka Connect process to pick up the new JAR files.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="obtaining-oracle-jdbc-driver-and-xstreams-api-files"><a class="anchor" href="#obtaining-oracle-jdbc-driver-and-xstreams-api-files"></a>Obtaining the Oracle JDBC driver and XStream API files</h3>
<div class="paragraph">
<p>The Debezium Oracle connector requires the Oracle JDBC driver (<code>ojdbc8.jar</code>) to connect to Oracle databases.
If the connector uses XStreams to access the database, you must also have the XStream API (<code>xstreams.jar</code>).
Licensing requirements prohibit Debezium from including these files in the Oracle connector archive.
However, the required files are available for free download as part of the Oracle Instant Client.
The following steps describe how to download the Oracle Instant Client and extract the required files.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From a browser, download the <a href="https://www.oracle.com/database/technologies/instant-client/downloads.html">Oracle Instant Client package</a> for your operating system.</p>
</li>
<li>
<p>Extract the archive and then open the <code>instantclient<em>_&lt;version&gt;</em></code> directory.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">instantclient_21_1/
├── adrci
├── BASIC_LITE_LICENSE
├── BASIC_LITE_README
├── genezi
├── libclntshcore.so -&gt; libclntshcore.so.21.1
├── libclntshcore.so.12.1 -&gt; libclntshcore.so.21.1

...

├── ojdbc8.jar
├── ucp.jar
├── uidrvci
└── xstreams.jar</code></pre>
</div>
</div>
</li>
<li>
<p>Copy the <code>ojdbc8.jar</code> and <code>xstreams.jar</code> files, and add them to the <code><em>&lt;kafka_home&gt;</em>/libs</code> directory, for example, <code>kafka/libs</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In environments that use the Oracle LogMiner implementation, copy only the <code>ojdbc8.jar</code> file.
The <code>xstreams.jar</code> file is only required in environments that use the Oracle XStreams implementation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you are using the XStreams implementation, create an environment variable, <code>LD_LIBRARY_PATH</code>, and set its value to the path to the Instant Client directory, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">LD_LIBRARY_PATH=/path/to/instant_client/</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>LD_LIBRARY_PATH</code> environment variable is not required if you run the Oracle LogMiner implementation.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="oracle-example-configuration"><a class="anchor" href="#oracle-example-configuration"></a>Debezium Oracle connector configuration</h3>
<div class="paragraph">
<p>Typically, you register a Debezium Oracle connector by submitting a JSON request that specifies the configuration properties for the connector.
The following example shows a JSON request for registering an instance of the Debezium Oracle connector with logical name <code>server1</code> at port 1521:</p>
</div>
<div class="paragraph">
<p>You can choose to produce events for a subset of the schemas and tables in a database.
Optionally, you can ignore, mask, or truncate columns that contain sensitive data, that are larger than a specified size, or that you do not need.</p>
</div>
<div class="listingblock">
<div class="title">Example: Debezium Oracle connector configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "inventory-connector",  <i class="conum" data-value="1"></i><b>(1)</b>
    "config": {
        "connector.class" : "io.debezium.connector.oracle.OracleConnector",  <i class="conum" data-value="2"></i><b>(2)</b>
        "database.hostname" : "&lt;ORACLE_IP_ADDRESS&gt;",  <i class="conum" data-value="3"></i><b>(3)</b>
        "database.port" : "1521",  <i class="conum" data-value="4"></i><b>(4)</b>
        "database.user" : "c##dbzuser",  <i class="conum" data-value="5"></i><b>(5)</b>
        "database.password" : "dbz",   <i class="conum" data-value="6"></i><b>(6)</b>
        "database.dbname" : "ORCLCDB",  <i class="conum" data-value="7"></i><b>(7)</b>
        "database.server.name" : "server1",  <i class="conum" data-value="8"></i><b>(8)</b>
        "tasks.max" : "1",  <i class="conum" data-value="9"></i><b>(9)</b>
        "database.pdb.name" : "ORCLPDB1",  <i class="conum" data-value="10"></i><b>(10)</b>
        "database.history.kafka.bootstrap.servers" : "kafka:9092", <i class="conum" data-value="11"></i><b>(11)</b>
        "database.history.kafka.topic": "schema-changes.inventory"  <i class="conum" data-value="12"></i><b>(12)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name that is assigned to the connector when you register it with a Kafka Connect service.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name of this Oracle connector class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The address of the Oracle instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The port number of the Oracle instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The name of the Oracle user, as specified in <a href="#creating-users-for-the-connector">Creating users for the connector</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The password for the Oracle user, as specified in <a href="#creating-users-for-the-connector">Creating users for the connector</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The name of the database to capture changes from.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Logical name that identifies and provides a namespace for the Oracle database server from which the connector captures changes.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>The maximum number of tasks to create for this connector.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>The name of the Oracle pluggable database that the connector captures changes from. Used in container database (CDB) installations only.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>The list of Kafka brokers that this connector uses to write and recover DDL statements to the database history topic.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>The name of the database history topic where the connector writes and recovers DDL statements. This topic is for internal use only and should not be used by consumers.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the previous example, the <code>database.hostname</code> and <code>database.port</code> properties are used to define the connection to the database host.
However, in more complex Oracle deployments, or in deployments that use TNS names, you can use an alternative method in which you specify a JDBC URL.</p>
</div>
<div class="paragraph">
<p>The following JSON example shows the same configuration as in the preceding example, except that it uses a JDBC URL to connect to the database.</p>
</div>
<div class="listingblock">
<div class="title">Example: Debezium Oracle connector configuration that uses a JDBC URL to connect to the database</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "inventory-connector",
    "config": {
        "connector.class" : "io.debezium.connector.oracle.OracleConnector",
        "tasks.max" : "1",
        "database.server.name" : "server1",
        "database.user" : "c##dbzuser",
        "database.password" : "dbz",
        "database.url": "jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(LOAD_BALANCE=OFF)(FAILOVER=ON)(ADDRESS=(PROTOCOL=TCP)(HOST=&lt;oracle ip 1&gt;)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=&lt;oracle ip 2&gt;)(PORT=1521)))(CONNECT_DATA=SERVICE_NAME=)(SERVER=DEDICATED)))",
        "database.dbname" : "ORCLCDB",
        "database.pdb.name" : "ORCLPDB1",
        "database.history.kafka.bootstrap.servers" : "kafka:9092",
        "database.history.kafka.topic": "schema-changes.inventory"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pluggable-vs-non-pluggable-databases"><a class="anchor" href="#pluggable-vs-non-pluggable-databases"></a>Pluggable vs Non-Pluggable databases</h3>
<div id="oracle-database-mode" class="paragraph">
<p>Oracle Database supports the following deployment types:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Container database (CDB)</dt>
<dd>
<p>A database that can contain multiple pluggable databases (PDBs).
Database clients connect to each PDB as if it were a standard, non-CDB database.</p>
</dd>
<dt class="hdlist1">Non-container database (non-CDB)</dt>
<dd>
<p>A standard Oracle database, which does not support the creation of pluggable databases.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">Example: Debezium connector configuration for CDB deployments</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "config": {
    "connector.class" : "io.debezium.connector.oracle.OracleConnector",
    "tasks.max" : "1",
    "database.server.name" : "server1",
    "database.hostname" : "&lt;oracle ip&gt;",
    "database.port" : "1521",
    "database.user" : "c##dbzuser",
    "database.password" : "dbz",
    "database.dbname" : "ORCLCDB",
    "database.pdb.name" : "ORCLPDB1",
    "database.history.kafka.bootstrap.servers" : "kafka:9092",
    "database.history.kafka.topic": "schema-changes.inventory"
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you configure a Debezium Oracle connector for use with an Oracle CDB, you must specify a value for the property <code>database.pdb.name</code>, which names the PDB that you want the connector to capture changes from.
For non-CDB installation, do <strong>not</strong> specify the <code>database.pdb.name</code> property.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example: Debezium Oracle connector configuration for non-CDB deployments</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "config": {
        "connector.class" : "io.debezium.connector.oracle.OracleConnector",
        "tasks.max" : "1",
        "database.server.name" : "server1",
        "database.hostname" : "&lt;oracle ip&gt;",
        "database.port" : "1521",
        "database.user" : "c##dbzuser",
        "database.password" : "dbz",
        "database.dbname" : "ORCLCDB",
        "database.history.kafka.bootstrap.servers" : "kafka:9092",
        "database.history.kafka.topic": "schema-changes.inventory"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the complete list of the configuration properties that you can set for the Debezium Oracle connector, see <a href="#oracle-connector-properties">Oracle connector properties</a>.</p>
</div>
<div class="paragraph">
<p>You can send this configuration with a <code>POST</code> command to a running Kafka Connect service.
The service records the configuration and starts a connector task that performs the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connects to the Oracle database.</p>
</li>
<li>
<p>Reads the redo log.</p>
</li>
<li>
<p>Records change events to Kafka topics.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="oracle-adding-connector-configuration"><a class="anchor" href="#oracle-adding-connector-configuration"></a>Adding connector configuration</h3>
<div class="paragraph">
<p>To start running a Debezium Oracle connector, create a connector configuration, and add the configuration to your Kafka Connect cluster.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="#setting-up-oracle">Oracle is configured for use with Debezium</a>.</p>
</li>
<li>
<p>The Debezium Oracle connector is installed.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a <a href="#oracle-example-configuration">configuration</a> for the Oracle connector.</p>
</li>
<li>
<p>Use the <a href="https://kafka.apache.org/documentation/#connect_rest">Kafka Connect REST API</a> to add that connector configuration to your Kafka Connect cluster.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Results</div>
<p>When the connector starts, it <a href="#oracle-snapshots">performs a consistent snapshot</a> of the Oracle databases that the connector is configured for.
The connector then starts generating data change events for row-level operations and streaming the change event records to Kafka topics.</p>
</div>
</div>
<div class="sect2">
<h3 id="oracle-connector-properties"><a class="anchor" href="#oracle-connector-properties"></a>Connector properties</h3>
<div class="paragraph">
<p>The Debezium Oracle connector has numerous configuration properties that you can use to achieve the right connector behavior for your application.
Many properties have default values.
Information about the properties is organized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#required-debezium-oracle-connector-configuration-properties">Required Debezium Oracle connector configuration properties</a></p>
</li>
<li>
<p><a href="#debezium-oracle-connector-database-history-configuration-properties">Database history connector configuration properties</a> that control how Debezium processes events that it reads from the database history topic.</p>
<div class="ulist">
<ul>
<li>
<p><a href="#oracle-pass-through-database-history-properties-for-configuring-producer-and-consumer-clients">Pass-through database history properties</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#debezium-oracle-connector-pass-through-database-driver-configuration-properties">Pass-through database driver properties</a> that control the behavior of the database driver.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="required-debezium-oracle-connector-configuration-properties"><a class="anchor" href="#required-debezium-oracle-connector-configuration-properties"></a>Required Debezium Oracle connector configuration properties</h4>
<div class="paragraph">
<p>The following configuration properties are <em>required</em> unless a default value is available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Property</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Description</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-name"></a><a href="#oracle-property-name"><code>name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unique name for the connector. Attempting to register again with the same name will fail. (This property is required by all Kafka Connect connectors.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-connector-class"></a><a href="#oracle-property-connector-class"><code>connector.class</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Java class for the connector. Always use a value of <code>io.debezium.connector.oracle.OracleConnector</code> for the Oracle connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-tasks-max"></a><a href="#oracle-property-tasks-max"><code>tasks.max</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of tasks that should be created for this connector. The Oracle connector always uses a single task and therefore does not use this value, so the default is always acceptable.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-hostname"></a><a href="#oracle-property-database-hostname"><code>database.hostname</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP address or hostname of the Oracle database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-port"></a><a href="#oracle-property-database-port"><code>database.port</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer port number of the Oracle database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-user"></a><a href="#oracle-property-database-user"><code>database.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the Oracle user account that the connector uses to connect to the Oracle database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-password"></a><a href="#oracle-property-database-password"><code>database.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Password to use when connecting to the Oracle database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-dbname"></a><a href="#oracle-property-database-dbname"><code>database.dbname</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the database to connect to. Must be the CDB name when working with the CDB + PDB model.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-url"></a><a href="#oracle-property-database-url"><code>database.url</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the raw database JDBC URL. Use this property to provide flexibility in defining that database connection.
Valid values include raw TNS names and RAC connection strings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-pdb-name"></a><a href="#oracle-property-database-pdb-name"><code>database.pdb.name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the Oracle pluggable database to connect to. Use this property with container database (CDB) installations only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-server-name"></a><a href="#oracle-property-database-server-name"><code>database.server.name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Logical name that identifies and provides a namespace for the Oracle database server from which the connector captures changes.
The value that you set is used as a prefix for all Kafka topic names that the connector emits.
Specify a logical name that is unique among all connectors in your Debezium environment.
The following characters are valid: alphanumeric characters, hyphens, dots, and underscores.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-connection-adapter"></a><a href="#oracle-property-database-connection-adapter"><code>database.connection.adapter</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>logminer</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The adapter implementation that the connector uses when it streams database changes.
You can set the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>logminer</code>(default)</dt>
<dd>
<p>The connector uses the native Oracle LogMiner API.</p>
</dd>
<dt class="hdlist1"><code>xstream</code></dt>
<dd>
<p>The connector uses the Oracle XStreams API.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-mode"></a><a href="#oracle-property-snapshot-mode"><code>snapshot.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>initial</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the mode that the connector uses to take snapshots of a captured table.
You can set the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>initial</code></dt>
<dd>
<p>The snapshot includes the structure and data of captured tables.
Specify this value to populate topics with a complete representation of the data from the captured tables.</p>
</dd>
<dt class="hdlist1"><code>schema_only</code></dt>
<dd>
<p>The snapshot includes only the structure of captured tables.
Specify this value if you want the connector to capture data only for changes that occur after the snapshot.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After the snapshot is complete, the connector continues to read change events from the database&#8217;s redo logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-locking-mode"></a><a href="#oracle-property-snapshot-locking-mode"><code>snapshot.locking.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>shared</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls whether and for how long the connector holds a table lock. Table locks prevent certain types of changes table operations from occurring while the connector performs a snapshot.
You can set the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>shared</code></dt>
<dd>
<p>Enables concurrent access to the table, but prevents any session from acquiring an exclusive table lock.
The connector acquires a <code>ROW SHARE</code> level lock while it captures table schema.</p>
</dd>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>Prevents the connector from acquiring any table locks during the snapshot.
Use this setting only if no schema changes might occur during the creation of the snapshot.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-include-collection-list"></a><a href="#oracle-property-snapshot-include-collection-list"><code>snapshot.include.collection.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All tables specified in <code>table.include.list</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match names of <strong>fully-qualified</strong> table names (<code><em>&lt;db_name&gt;</em>.<em>&lt;schema_name&gt;</em>.<em>&lt;name&gt;</em></code>) included in <code>table.include.list</code> for which you <strong>want</strong> to take the snapshot.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-select-statement-overrides"></a><a href="#oracle-property-snapshot-select-statement-overrides"><code>snapshot.select.statement.overrides</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the table rows to include in a snapshot.<br>
This property contains a comma-separated list of fully-qualified tables (<code><em>&lt;schema_name.table_name&gt;</em></code>).
Select statements for the individual tables are specified in further configuration properties, one for each table, identified by the id <code>snapshot.select.statement.overrides.[<em>&lt;schema_name&gt;</em>].[<em>&lt;table_name&gt;</em>]</code>.
The value of those properties is the <code>SELECT</code> statement to use when retrieving data from the specific table during snapshotting. <em>A possible use case for large append-only tables is setting a specific point where to start (resume) snapshotting, in case a previous snapshotting was interrupted.</em><br>
<strong>Note</strong>: This setting affects snapshots only. It does not apply to events that the connector captures during log reading.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-schema-include-list"></a><a href="#oracle-property-schema-include-list"><code>schema.include.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match names of schemas for which you <strong>want</strong> to capture changes. Any schema name not included in <code>schema.include.list</code> is excluded from having its changes captured. By default, all non-system schemas have their changes captured. Do not also set the <code>schema.exclude.list</code> property.
In environments that use the LogMiner implementation, you must use POSIX regular expressions only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-schema-exclude-list"></a><a href="#oracle-property-schema-exclude-list"><code>schema.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match names of schemas for which you <strong>do not</strong> want to capture changes. Any schema whose name is not included in <code>schema.exclude.list</code> has its changes captured, with the exception of system schemas. Do not also set the <code>schema.include.list</code> property.
In environments that use the LogMiner implementation, you must use POSIX regular expressions only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-table-include-list"></a><a href="#oracle-property-table-include-list"><code>table.include.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match fully-qualified table identifiers for tables to be monitored.
Tables that are not included in the include list are excluded from monitoring.
Each identifier is of the form <code><em>&lt;schema_name&gt;.&lt;table_name&gt;</em></code>.
By default, the connector monitors every non-system table in each monitored database.
Do not use this property in combination with <code>table.exclude.list</code>.
If you use the LogMiner implementation, use only POSIX regular expressions with this property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-table-exclude-list"></a><a href="#oracle-property-table-exclude-list"><code>table.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match fully-qualified table identifiers for tables to be excluded from monitoring.
The connector captures change events from any table that is not specified in the exclude list.
Specify the identifier for each table using the following format: <code><em>&lt;schema_name&gt;.&lt;table_name&gt;</em></code>.
Do not use this property in combination with <code>table.include.list</code>.
If you use the LogMiner implementation, use only POSIX regular expressions with this property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-include-list"></a><a href="#oracle-property-column-include-list"><code>column.include.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match the fully-qualified names of columns that want to include in the change event message values.
Fully-qualified names for columns are of the form <code><em>&lt;Schema_name&gt;.&lt;table_name&gt;.&lt;column_name&gt;</em></code>.
The primary key column is always included in an event&#8217;s key, even if you do not use this property to explicitly include its value.
If you include this property in the configuration, do not also set the <code>column.exclude.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-exclude-list"></a><a href="#oracle-property-column-exclude-list"><code>column.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match the fully-qualified names of columns that you want to exclude from change event message values.
Fully-qualified names for columns are of the form <code><em>&lt;schema_name&gt;.&lt;table_name&gt;.&lt;column_name&gt;</em></code>.
The primary key column is always included in an event&#8217;s key, even if you use this property to explicitly exclude its value.
If you include this property in the configuration, do not set the <code>column.include.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-mask-hash"></a><a href="#oracle-property-column-mask-hash"><code>column.mask.hash.<em>&lt;hashAlgorithm&gt;</em>.with.salt.<em>&lt;salt&gt;</em></code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of character-based columns.
Fully-qualified names for columns are of the form <em>pdbName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.
In the resulting change event record, the values for the specified columns are replaced with pseudonyms.<br></p>
</div>
<div class="paragraph">
<p>A pseudonym consists of the hashed value that results from applying the specified <em>hashAlgorithm</em> and <em>salt</em>.
Based on the hash function that is used, referential integrity is maintained, while column values are replaced with pseudonyms.
Supported hash functions are described in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#MessageDigest">MessageDigest section</a> of the Java Cryptography Architecture Standard Algorithm Name Documentation.<br>
<br>
In the following example, <code>CzQMA0cB5K</code> is a randomly selected salt.<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>column.mask.hash.SHA-256.with.salt.CzQMA0cB5K = inventory.orders.customerName, inventory.shipment.customerName</pre>
</div>
</div>
<div class="paragraph">
<p>If necessary, the pseudonym is automatically shortened to the length of the column.
The connector configuration can include multiple properties that specify different hash algorithms and salts.<br>
<br>
Depending on the <em>hashAlgorithm</em> used, the <em>salt</em> selected, and the actual data set, the resulting data set might not be completely masked.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-decimal-handling-mode"></a><a href="#oracle-property-decimal-handling-mode"><code>decimal.handling.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>precise</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how the connector should handle floating point values for <code>NUMBER</code>, <code>DECIMAL</code> and <code>NUMERIC</code> columns.
You can set one of the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>precise</code> (default)</dt>
<dd>
<p>Represents values precisely by using <code>java.math.BigDecimal</code> values represented in change events in a binary form.</p>
</dd>
<dt class="hdlist1"><code>double</code></dt>
<dd>
<p>Represents values by using <code>double</code> values.
Using <code>double</code> values is easier, but can result in a loss of precision.</p>
</dd>
<dt class="hdlist1"><code>string</code></dt>
<dd>
<p>Encodes values as formatted strings.
Using the <code>string</code> option is easier to consume, but results in a loss of semantic information about the real type.
For more information, see <a href="#oracle-decimal-types">Decimal types</a>.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-event-processing-failure-handling-mode"></a><a href="#oracle-property-event-processing-failure-handling-mode"><code>event.processing.failure.handling.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>fail</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how the connector should react to exceptions during processing of events.
You can set one of the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>fail</code></dt>
<dd>
<p>Propagates the exception (indicating the offset of the problematic event), causing the connector to stop.</p>
</dd>
<dt class="hdlist1"><code>warn</code></dt>
<dd>
<p>Causes the problematic event to be skipped. The offset of the problematic event is then logged.</p>
</dd>
<dt class="hdlist1"><code>skip</code></dt>
<dd>
<p>Causes the problematic event to be skipped.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-max-queue-size"></a><a href="#oracle-property-max-queue-size"><code>max.queue.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>8192</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A positive integer value that specifies the maximum size of the blocking queue.
Change events read from the database log are placed in the blocking queue before they are written to Kafka.
This queue can provide backpressure to the binlog reader when, for example, writes to Kafka are slow, or if Kafka is not available.
Events that appear in the queue are not included in the offsets that the connector records periodically.
Always specify a value that is larger than the maximum batch size that specified for the <code>max.batch.size</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-max-batch-size"></a><a href="#oracle-property-max-batch-size"><code>max.batch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2048</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A positive integer value that specifies the maximum size of each batch of events to process during each iteration of this connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-max-queue-size-in-bytes"></a><a href="#oracle-property-max-queue-size-in-bytes"><code>max.queue.size.in.bytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code> (disabled)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Long value for the maximum size in bytes of the blocking queue. To activate the feature, set the value to a positive long data type.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-poll-interval-ms"></a><a href="#oracle-property-poll-interval-ms"><code>poll.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code> (1 second)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the number of milliseconds the connector should wait during each iteration for new change events to appear.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-tombstones-on-delete"></a><a href="#oracle-property-tombstones-on-delete"><code>tombstones.on.delete</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls whether a <em>delete</em> event is followed by a tombstone event.
The following values are possible:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>true</code></dt>
<dd>
<p>For each delete operation, the connector emits a <em>delete</em> event and a subsequent tombstone event.</p>
</dd>
<dt class="hdlist1"><code>false</code></dt>
<dd>
<p>For each delete operation, the connector emits only a <em>delete</em> event.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After a source record is deleted, a tombstone event (the default behavior) enables Kafka to completely delete all events that share the key of the deleted row in topics that have <a href="https://kafka.apache.org/documentation/#compaction">log compaction</a> enabled.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-message-key-columns"></a><a href="#oracle-property-message-key-columns"><code>message.key.columns</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of regular expressions, separated by semi-colons, that match the fully-qualified tables and columns to map a primary key.<br>
Each item (regular expression) must match the <code>&lt;fully-qualified table&gt;:&lt;a comma-separated list of columns&gt;</code> representing the custom key.<br>
Define fully-qualified tables by using the following format: <code><em>&lt;pdbName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-truncate-to-length-chars"></a><a href="#oracle-property-column-truncate-to-length-chars"><code>column.truncate.to.<em>length</em>.chars</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match the fully-qualified names of character-based columns to be truncated in change event messages if their length exceeds the specified number of characters.
Length is specified as a positive integer. A configuration can include multiple properties that specify different lengths.
Specify the fully-qualified name for columns by using the following format: <code><em>&lt;pdbName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em>.<em>&lt;columnName&gt;</em></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-mask-with-length-chars"></a><a href="#oracle-property-column-mask-with-length-chars"><code>column.mask.with.<em>length</em>.chars</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions for masking column names in change event messages by replacing characters with asterisks (<code>*</code>).
Specify the number of characters to replace in the name of the property, for example, <code>column.mask.with.8.chars</code>.
Specify length as a positive integer or zero.
Then add regular expressions to the list for each character-based column name where you want to apply a mask.
Use the following format to specify fully-qualified column names: <code><em>pdbName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em></code>.
The connector configuration can include multiple properties that specify different lengths.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-column-propagate-source-type"></a><a href="#oracle-property-column-propagate-source-type"><code>column.propagate.source.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match the fully-qualified names of columns whose original type and length should be added as a parameter to the corresponding field schemas in the emitted change messages.
The schema parameters <code>__debezium.source.column.type</code>, <code>__debezium.source.column.length</code>, and <code>__debezium.source.column.scale</code> are used to propagate the original type name and length (for variable-width types), respectively.
Useful to properly size corresponding columns in sink databases.
Fully-qualified names for columns are of the form <em>tableName</em>.<em>columnName</em>, or <em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-datatype-propagate-source-type"></a><a href="#oracle-property-datatype-propagate-source-type"><code>datatype.propagate.source.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional comma-separated list of regular expressions that match the database-specific data type name of columns whose original type and length should be added as a parameter to the corresponding field schemas in the emitted change messages.
The schema parameters <code>__debezium.source.column.type</code>, <code>__debezium.source.column.length</code> and <code>__debezium.source.column.scale</code> are used to propagate the original type name and length (for variable-width types), respectively.
Useful to properly size corresponding columns in sink databases.
Fully-qualified data type names are of the form <em>tableName</em>.<em>typeName</em>, or <em>schemaName</em>.<em>tableName</em>.<em>typeName</em>.
See the <a href="#oracle-data-type-mappings">list of Oracle-specific data type names</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-heartbeat-interval-ms"></a><a href="#oracle-property-heartbeat-interval-ms"><code>heartbeat.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies, in milliseconds, how frequently the connector sends messages to a heartbeat topic.<br>
Use this property to determine whether the connector continues to receive change events from the source database.
It can also be useful to set the property in situations where the connector no change events occur in captured tables for an extended period.
In such a a case, although the connector continues to read the redo log, it emits no change event messages, so that the offset in the Kafka topic remains unchanged.
Because the connector does not flush the latest system change number (SCN) that it read from the database, the database might retain the redo log files for longer than necessary.
If the connector restarts, the extended retention period could result in the connector redundantly sending some change events.
The default value of <code>0</code> prevents the connector from sending any heartbeat messages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-heartbeat-topics-prefix"></a><a href="#oracle-property-heartbeat-topics-prefix"><code>heartbeat.topics.prefix</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>__debezium-heartbeat</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the string that prefixes the name of the topic to which the connector sends heartbeat messages.<br>
The topic is named according to the pattern <code><em>&lt;heartbeat.topics.prefix&gt;.&lt;server.name&gt;</em></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-delay-ms"></a><a href="#oracle-property-snapshot-delay-ms"><code>snapshot.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies an interval in milliseconds that the connector waits after it starts before it takes a snapshot.<br>
Use this property to prevent snapshot interruptions when you start multiple connectors in a cluster, which might cause re-balancing of connectors.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-snapshot-fetch-size"></a><a href="#oracle-property-snapshot-fetch-size"><code>snapshot.fetch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the maximum number of rows that should be read in one go from each table while taking a snapshot.
The connector reads table contents in multiple batches of the specified size.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-sanitize-field-names"></a><a href="#oracle-property-sanitize-field-names"><code>sanitize.field.names</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code> when the connector configuration explicitly specifies the <code>key.converter</code> or <code>value.converter</code> parameters to use Avro, otherwise defaults to <code>false</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether field names are normalized to comply with Avro naming requirements.
For more information, see <a href="../configuration/avro.html#avro-naming" class="page">Avro naming</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-provide-transaction-metadata"></a><a href="#oracle-property-provide-transaction-metadata"><code>provide.transaction.metadata</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the property to <code>true</code> if you want Debezium to generate events with transaction boundaries and enriches data events envelope with transaction metadata.</p>
</div>
<div class="paragraph">
<p>See <a href="#oracle-transaction-metadata">Transaction Metadata</a> for additional details.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-strategy"></a><a href="#oracle-property-log-mining-strategy"><code>log.mining.strategy</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>redo_log_catalog</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the mining strategy that controls how Oracle LogMiner builds and uses a given data dictionary for resolving table and column ids to names.<br>
<br>
<code>redo_log_catalog</code>:: Writes the data dictionary to the online redo logs causing more archive logs to be generated over time.
This also enables tracking DDL changes against captured tables, so if the schema changes frequently this is the ideal choice.<br>
<br>
<code>online_catalog</code>:: Uses the database&#8217;s current data dictionary to resolve object ids and does not write any extra information to the online redo logs.
This allows LogMiner to mine substantially faster but at the expense that DDL changes cannot be tracked.
If the captured table(s) schema changes infrequently or never, this is the ideal choice.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-buffer-type"></a><a href="#oracle-property-log-mining-buffer-type"><code>log.mining.buffer.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>memory</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The buffer type controls how the connector manages buffering transaction data.<br>
<br>
<code>memory</code> - Uses the JVM process' heap to buffer all transaction data.
Choose this option if you don&#8217;t expect the connector to process a high number of long-running or large transactions.
When this option is active, the buffer state is not persisted across restarts.
Following a restart, recreate the buffer from the SCN value of the current offset.<br>
<br>
<code>infinispan</code> - This option uses an embedded Infinispan cache to buffer transaction data and persist it to disk.
Choose this option if you expect the connector to process long-running or large transactions.
When this option is active, the buffer state is persisted across restarts.
After a restart, there is no need to recreate the buffer.
Since the buffer state is persisted across restarts, the buffer does not need to be recreated at restart.
The infinispan option requires that you specify a cache file directory.
Use the <code>log.mining.buffer.location</code> property to define the location for storing cache files.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-buffer-location"></a><a href="#oracle-property-log-mining-buffer-location"><code>log.mining.buffer.location</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the location of the directory that the connector uses to read and write the buffer cache.
Specify a directory that every node in the Kafka cluster can access and that is unique for the connector deployment.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-buffer-drop-on-stop"></a><a href="#oracle-property-log-mining-buffer-drop-on-stop"><code>log.mining.buffer.drop.on.stop</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether the buffer state is deleted after the connector stops in a graceful, expected way.<br>
<br>
This setting only impacts buffer implementations that persist state across restarts, such as <code>infinispan</code>.<br>
The default behavior is that the buffer state is always retained between restarts.<br>
<br>
Set to <code>true</code> only in testing or development environments.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-batch-size-min"></a><a href="#oracle-property-log-mining-batch-size-min"><code>log.mining.batch.size.min</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum SCN interval size that this connector attempts to read from redo/archive logs. Active batch size is also increased/decreased by this amount for tuning connector throughput when needed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-batch-size-max"></a><a href="#oracle-property-log-mining-batch-size-max"><code>log.mining.batch.size.max</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum SCN interval size that this connector uses when reading from redo/archive logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-batch-size-default"></a><a href="#oracle-property-log-mining-batch-size-default"><code>log.mining.batch.size.default</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>20000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The starting SCN interval size that the connector uses for reading data from redo/archive logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-sleep-time-min-ms"></a><a href="#oracle-property-log-mining-sleep-time-min-ms"><code>log.mining.sleep.time.min.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum amount of time that the connector sleeps after reading data from redo/archive logs and before starting reading data again. Value is in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-sleep-time-max-ms"></a><a href="#oracle-property-log-mining-sleep-time-max-ms"><code>log.mining.sleep.time.max.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>3000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum amount of time that the connector ill sleeps after reading data from redo/archive logs and before starting reading data again. Value is in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-sleep-time-default-ms"></a><a href="#oracle-property-log-mining-sleep-time-default-ms"><code>log.mining.sleep.time.default.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The starting amount of time that the connector sleeps after reading data from redo/archive logs and before starting reading data again. Value is in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-sleep-time-increment-ms"></a><a href="#oracle-property-log-mining-sleep-time-increment-ms"><code>log.mining.sleep.time.increment.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>200</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum amount of time up or down that the connector uses to tune the optimal sleep time when reading data from logminer. Value is in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-view-fetch-size"></a><a href="#oracle-property-log-mining-view-fetch-size"><code>log.mining.view.fetch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of content records that the connector fetches from the LogMiner content view.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-archive-log-hours"></a><a href="#oracle-property-log-mining-archive-log-hours"><code>log.mining.archive.log.hours</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of hours in the past from SYSDATE to mine archive logs.
When the default setting (<code>0</code>) is used, the connector mines all archive logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-archive-log-only-mode"></a><a href="#oracle-property-log-mining-archive-log-only-mode"><code>log.mining.archive.log.only.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls whether or not the connector mines changes from just archive logs or a combination of the online redo logs and archive logs (the default).<br>
<br>
Redo logs use a circular buffer that can be archived at any point.
In environments where online redo logs are archived frequently, this can lead to LogMiner session failures.
In contrast to redo logs, archive logs are guaranteed to be reliable.
Set this option to <code>true</code> to force the connector to mine archive logs only.
After you set the connector to mine only the archive logs, the latency between an operation being committed and the connector emitting an associated change event might increase.
The degree of latency depends on how frequently the database is configured to archive online redo logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-transaction-retention-hours"></a><a href="#oracle-property-log-mining-transaction-retention-hours"><code>log.mining.transaction.retention.hours</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the number of hours to retain long running transactions between redo log switches.
When set to <code>0</code>, transactions are retained until a commit or rollback is detected.</p>
</div>
<div class="paragraph">
<p>The LogMiner adapter maintains an in-memory buffer of all running transactions.
Because all of the DML operations that are part of a transaction are buffered until a commit or rollback is detected,
long-running transactions should be avoided in order to not overflow that buffer.
Any transaction that exceeds this configured value is discarded entirely, and the connector does not emit any messages for the operations that were part of the transaction.
While this option allows the behavior to be configured on a case-by-case basis,
we have plans to enhance this behavior in a future release by means of adding a scalable transaction buffer, (see <a href="#https://issues.redhat.com/browse/DBZ-3123">DBZ-3123</a>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-archive-destination-name"></a><a href="#oracle-property-log-mining-archive-destination-name"><code>log.mining.archive.destination.name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the configured Oracle archive destination to use when mining archive logs with LogMiner.<br>
<br>
The default behavior automatically selects the first valid, local configured destination.
However, you can use a specific destination can be used by providing the destination name, for example, <code>LOG_ARCHIVE_DEST_5</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-log-mining-username-exclude-list"></a><a href="#oracle-property-log-mining-username-exclude-list"><code>log.mining.username.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of database users to exclude from the LogMiner query.
It can be useful to set this property if you want the capturing process to always exclude the changes that specific users make.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-lob-enabled"></a><a href="#oracle-property-lob-enabled"><code>lob.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls whether or not large object (CLOB or BLOB) column values are emitted in change events.<br>
<br>
By default, change events have large object columns, but the columns contain no values.
There is a certain amount of overhead in processing and managing large object column types and payloads.
To capture large object values and serialized them in change events, set this option to <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-rac-nodes"></a><a href="#oracle-property-rac-nodes"><code>rac.nodes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A comma-separated list of Oracle Real Application Clusters (RAC) node host names or addresses.
This field is required to enable Oracle RAC support.
Specify the list of RAC nodes by using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specify a value for <a href="#oracle-property-database-port"><code>database.port</code></a>, and use the specified port value for each address in the <code>rac.nodes</code> list.
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">database.port=1521
rac.nodes=192.168.1.100,192.168.1.101</code></pre>
</div>
</div>
</li>
<li>
<p>Specify a value for <a href="#oracle-property-database-port"><code>database.port</code></a>, and override the default port for one or more entries in the list.
The list can include entries that use the default <code>database.port</code> value, and entries that define their own unique port values.
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">database.port=1521
rac.nodes=192.168.1.100,192.168.1.101:1522</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you supply a raw JDBC URL for the database by using the <a href="#oracle-property-database-url"><code>database.url</code></a> property, instead of defining a value for <code>database.port</code>, each RAC node entry must explicitly specify a port value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-skipped-operations"></a><a href="#oracle-property-skipped-operations"><code>skipped.operations</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A comma-separated list of the operation types that you want the connector to skip during streaming.
You can configure the connector to skip the following types of operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>c</code> (insert/create)</p>
</li>
<li>
<p><code>u</code> (update)</p>
</li>
<li>
<p><code>d</code> (delete)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, no operations are skipped.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="debezium-oracle-connector-database-history-configuration-properties"><a class="anchor" href="#debezium-oracle-connector-database-history-configuration-properties"></a>Debezium connector database history configuration properties</h4>
<div class="paragraph">
<p>Debezium provides a set of <code>database.history.*</code> properties that control how the connector interacts with the schema history topic.</p>
</div>
<div class="paragraph">
<p>The following table describes the <code>database.history</code> properties for configuring the Debezium connector.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Connector database history configuration properties</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 17%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-kafka-topic"></a><a href="#oracle-property-database-history-kafka-topic"><code>database.history.kafka.topic</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The full name of the Kafka topic where the connector stores the database schema history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-kafka-bootstrap-servers"></a><a href="#oracle-property-database-history-kafka-bootstrap-servers"><code>database.history.kafka.bootstrap.servers</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of host/port pairs that the connector uses for establishing an initial connection to the Kafka cluster. This connection is used for retrieving the database schema history previously stored by the connector, and for writing each DDL statement read from the source database. Each pair should point to the same Kafka cluster used by the Kafka Connect process.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-kafka-recovery-poll-interval-ms"></a><a href="#oracle-property-database-history-kafka-recovery-poll-interval-ms"><code>database.history.kafka.recovery.poll.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer value that specifies the maximum number of milliseconds the connector should wait during startup/recovery while polling for persisted data. The default is 100ms.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-kafka-recovery-attempts"></a><a href="#oracle-property-database-history-kafka-recovery-attempts"><code>database.history.kafka.recovery.attempts</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>4</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of times that the connector should try to read persisted history data before the connector recovery fails with an error. The maximum amount of time to wait after receiving no data is <code>recovery.attempts</code> x <code>recovery.poll.interval.ms</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-skip-unparseable-ddl"></a><a href="#oracle-property-database-history-skip-unparseable-ddl"><code>database.history.skip.unparseable.ddl</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector should ignore malformed or unknown database statements or stop processing so a human can fix the issue.
The safe default is <code>false</code>.
Skipping should be used only with care as it can lead to data loss or mangling when the binlog is being processed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-store-only-monitored-tables-ddl"></a><a href="#oracle-property-database-history-store-only-monitored-tables-ddl"><code>database.history.store.only.monitored.tables.ddl</code></a><br></p>
</div>
<div class="paragraph">
<p><em>Deprecated and scheduled for removal in a future release; use <a href="#oracle-property-database-history-store-only-captured-tables-ddl"><code>database.history.store.only.captured.tables.ddl</code></a> instead.</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector should record all DDL statements<br></p>
</div>
<div class="paragraph">
<p><code>true</code> records only those DDL statements that are relevant to tables whose changes are being captured by Debezium. Set to <code>true</code> with care because missing data might become necessary if you change which tables have their changes captured.<br></p>
</div>
<div class="paragraph">
<p>The safe default is <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-history-store-only-captured-tables-ddl"></a><a href="#oracle-property-database-history-store-only-captured-tables-ddl"><code>database.history.store.only.captured.tables.ddl</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector should record all DDL statements<br></p>
</div>
<div class="paragraph">
<p><code>true</code> records only those DDL statements that are relevant to tables whose changes are being captured by Debezium. Set to <code>true</code> with care because missing data might become necessary if you change which tables have their changes captured.<br></p>
</div>
<div class="paragraph">
<p>The safe default is <code>false</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="oracle-pass-through-database-history-properties-for-configuring-producer-and-consumer-clients" class="paragraph">
<div class="title">Pass-through database history properties for configuring producer and consumer clients</div>
<p><br>
Debezium relies on a Kafka producer to write schema changes to database history topics.
Similarly, it relies on a Kafka consumer to read from database history topics when a connector starts.
You define the configuration for the Kafka producer and consumer clients by assigning values to a set of pass-through configuration properties that begin with the <code>database.history.producer.*</code> and <code>database.history.consumer.*</code> prefixes.
The pass-through producer and consumer database history properties control a range of behaviors, such as how these clients secure connections with the Kafka broker, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">database.history.producer.security.protocol=SSL
database.history.producer.ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
database.history.producer.ssl.keystore.password=test1234
database.history.producer.ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
database.history.producer.ssl.truststore.password=test1234
database.history.producer.ssl.key.password=test1234

database.history.consumer.security.protocol=SSL
database.history.consumer.ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
database.history.consumer.ssl.keystore.password=test1234
database.history.consumer.ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
database.history.consumer.ssl.truststore.password=test1234
database.history.consumer.ssl.key.password=test1234</code></pre>
</div>
</div>
<div class="paragraph">
<p>Debezium strips the prefix from the property name before it passes the property to the Kafka client.</p>
</div>
<div class="paragraph">
<p>See the Kafka documentation for more details about <a href="https://kafka.apache.org/documentation.html#producerconfigs">Kafka producer configuration properties</a> and <a href="https://kafka.apache.org/documentation.html#consumerconfigs">Kafka consumer configuration properties</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="debezium-oracle-connector-pass-through-database-driver-configuration-properties"><a class="anchor" href="#debezium-oracle-connector-pass-through-database-driver-configuration-properties"></a>Debezium connector pass-through database driver configuration properties</h4>
<div class="paragraph">
<p>The Debezium connector provides for pass-through configuration of the database driver.
Pass-through database properties begin with the prefix <code>database.*</code>.
For example, the connector passes properties such as <code>database.foobar=false</code> to the JDBC URL.</p>
</div>
<div class="paragraph">
<p>As is the case with the <a href="#oracle-pass-through-database-history-properties-for-configuring-producer-and-consumer-clients">pass-through properties for database history clients</a>, Debezium strips the prefixes from the properties before it passes them to the database driver.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-monitoring"><a class="anchor" href="#oracle-monitoring"></a>Monitoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Oracle connector provides three metric types in addition to the built-in support for JMX metrics that Apache Zookeeper, Apache Kafka, and Kafka Connect have.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#oracle-snapshot-metrics">snapshot metrics</a>; for monitoring the connector when performing snapshots</p>
</li>
<li>
<p><a href="#oracle-streaming-metrics">streaming metrics</a>; for monitoring the connector when processing change events</p>
</li>
<li>
<p><a href="#oracle-schema-history-metrics">schema history metrics</a>; for monitoring the status of the connector&#8217;s schema history</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the <a href="../operations/monitoring.html#monitoring-debezium" class="page">monitoring documentation</a> for details of how to expose these metrics via JMX.</p>
</div>
<div class="sect2">
<h3 id="oracle-snapshot-metrics"><a class="anchor" href="#oracle-snapshot-metrics"></a>Snapshot Metrics</h3>
<div id="oracle-monitoring-snapshots" class="paragraph">
<p>The <strong>MBean</strong> is <code>debezium.oracle:type=connector-metrics,context=snapshot,server=<em>&lt;oracle.server.name&gt;</em></code>.</p>
</div>
<div class="paragraph">
<p>Snapshot metrics are not exposed unless a snapshot operation is active, or if a snapshot has occurred since the last connector start.</p>
</div>
<div class="paragraph">
<p>The following table lists the shapshot metrics that are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-lastevent_oracle"></a><a href="#connectors-snaps-metric-lastevent_oracle"><code>LastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The last snapshot event that the connector has read.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-millisecondssincelastevent_oracle"></a><a href="#connectors-snaps-metric-millisecondssincelastevent_oracle"><code>MilliSecondsSinceLastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds since the connector has read and processed the most recent event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-totalnumberofeventsseen_oracle"></a><a href="#connectors-snaps-metric-totalnumberofeventsseen_oracle"><code>TotalNumberOfEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of events that this connector has seen since last started or reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-numberofeventsfiltered_oracle"></a><a href="#connectors-snaps-metric-numberofeventsfiltered_oracle"><code>NumberOfEventsFiltered</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of events that have been filtered by include/exclude list filtering rules configured on the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-capturedtables_oracle"></a><a href="#connectors-snaps-metric-capturedtables_oracle"><code>CapturedTables</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The list of tables that are captured by the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-queuetotalcapacity_oracle"></a><a href="#connectors-snaps-metric-queuetotalcapacity_oracle"><code>QueueTotalCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The length the queue used to pass events between the snapshotter and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-queueremainingcapacity_oracle"></a><a href="#connectors-snaps-metric-queueremainingcapacity_oracle"><code>QueueRemainingCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The free capacity of the queue used to pass events between the snapshotter and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-totaltablecount_oracle"></a><a href="#connectors-snaps-metric-totaltablecount_oracle"><code>TotalTableCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of tables that are being included in the snapshot.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-remainingtablecount_oracle"></a><a href="#connectors-snaps-metric-remainingtablecount_oracle"><code>RemainingTableCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of tables that the snapshot has yet to copy.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotrunning_oracle"></a><a href="#connectors-snaps-metric-snapshotrunning_oracle"><code>SnapshotRunning</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot was started.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotaborted_oracle"></a><a href="#connectors-snaps-metric-snapshotaborted_oracle"><code>SnapshotAborted</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot was aborted.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotcompleted_oracle"></a><a href="#connectors-snaps-metric-snapshotcompleted_oracle"><code>SnapshotCompleted</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot completed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotdurationinseconds_oracle"></a><a href="#connectors-snaps-metric-snapshotdurationinseconds_oracle"><code>SnapshotDurationInSeconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of seconds that the snapshot has taken so far, even if not complete.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-rowsscanned_oracle"></a><a href="#connectors-snaps-metric-rowsscanned_oracle"><code>RowsScanned</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Map&lt;String, Long&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Map containing the number of rows scanned for each table in the snapshot.
Tables are incrementally added to the Map during processing.
Updates every 10,000 rows scanned and upon completing a table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-maxqueuesizeinbytes_oracle"></a><a href="#connectors-snaps-metric-maxqueuesizeinbytes_oracle"><code>MaxQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum buffer of the queue in bytes. It will be enabled if <code>max.queue.size.in.bytes</code> is passed with a positive long value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-currentqueuesizeinbytes_oracle"></a><a href="#connectors-snaps-metric-currentqueuesizeinbytes_oracle"><code>CurrentQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current data of records in the queue in bytes.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The connector also provides the following additional snapshot metrics when an incremental snapshot is executed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkid_oracle"></a><a href="#connectors-insnap-metric-chunkid_oracle"><code>ChunkId</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The identifier of the current snapshot chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkfrom_oracle"></a><a href="#connectors-insnap-metric-chunkfrom_oracle"><code>ChunkFrom</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The lower bound of the primary key set defining the current chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkto_oracle"></a><a href="#connectors-insnap-metric-chunkto_oracle"><code>ChunkTo</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The upper bound of the primary key set defining the current chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-tablefrom_oracle"></a><a href="#connectors-insnap-metric-tablefrom_oracle"><code>TableFrom</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The lower bound of the primary key set of the currently snapshotted table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-tableto_oracle"></a><a href="#connectors-insnap-metric-tableto_oracle"><code>TableTo</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The upper bound of the primary key set of the currently snapshotted table.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="oracle-streaming-metrics"><a class="anchor" href="#oracle-streaming-metrics"></a>Streaming Metrics</h3>
<div id="oracle-monitoring-streaming" class="paragraph">
<p>The <strong>MBean</strong> is <code>debezium.oracle:type=connector-metrics,context=streaming,server=<em>&lt;oracle.server.name&gt;</em></code>.</p>
</div>
<div class="paragraph">
<p>The following table lists the streaming metrics that are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-lastevent_oracle"></a><a href="#connectors-strm-metric-lastevent_oracle"><code>LastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The last streaming event that the connector has read.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-millisecondssincelastevent_oracle"></a><a href="#connectors-strm-metric-millisecondssincelastevent_oracle"><code>MilliSecondsSinceLastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds since the connector has read and processed the most recent event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-totalnumberofeventsseen_oracle"></a><a href="#connectors-strm-metric-totalnumberofeventsseen_oracle"><code>TotalNumberOfEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of events that this connector has seen since last started or reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-numberofeventsfiltered_oracle"></a><a href="#connectors-strm-metric-numberofeventsfiltered_oracle"><code>NumberOfEventsFiltered</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of events that have been filtered by include/exclude list filtering rules configured on the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-capturedtables_oracle"></a><a href="#connectors-strm-metric-capturedtables_oracle"><code>CapturedTables</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The list of tables that are captured by the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-queuetotalcapacity_oracle"></a><a href="#connectors-strm-metric-queuetotalcapacity_oracle"><code>QueueTotalCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The length the queue used to pass events between the streamer and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-queueremainingcapacity_oracle"></a><a href="#connectors-strm-metric-queueremainingcapacity_oracle"><code>QueueRemainingCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The free capacity of the queue used to pass events between the streamer and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-connected_oracle"></a><a href="#connectors-strm-metric-connected_oracle"><code>Connected</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Flag that denotes whether the connector is currently connected to the database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-millisecondsbehindsource_oracle"></a><a href="#connectors-strm-metric-millisecondsbehindsource_oracle"><code>MilliSecondsBehindSource</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds between the last change event&#8217;s timestamp and the connector processing it.
The values will incoporate any differences between the clocks on the machines where the database server and the connector are running.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-numberofcommittedtransactions_oracle"></a><a href="#connectors-strm-metric-numberofcommittedtransactions_oracle"><code>NumberOfCommittedTransactions</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of processed transactions that were committed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-sourceeventposition_oracle"></a><a href="#connectors-strm-metric-sourceeventposition_oracle"><code>SourceEventPosition</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Map&lt;String, String&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The coordinates of the last received event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-lasttransactionid_oracle"></a><a href="#connectors-strm-metric-lasttransactionid_oracle"><code>LastTransactionId</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Transaction identifier of the last processed transaction.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-maxqueuesizeinbytes_oracle"></a><a href="#connectors-strm-metric-maxqueuesizeinbytes_oracle"><code>MaxQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum buffer of the queue in bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-currentqueuesizeinbytes_oracle"></a><a href="#connectors-strm-metric-currentqueuesizeinbytes_oracle"><code>CurrentQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current data of records in the queue in bytes.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Debezium Oracle connector also provides the following additional streaming metrics:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Descriptions of additional streaming metrics</caption>
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-currentscn"></a><a href="#oracle-streaming-metrics-currentscn"><code>CurrentScn</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The most recent system change number that has been processed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-oldest-scn"></a><a href="#oracle-streaming-metrics-oldest-scn"><code>OldestScn</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The oldest system change number in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-committed-scn"></a><a href="#oracle-streaming-metrics-committed-scn"><code>ComittedScn</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The last committed system change number from the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-offset-scn"></a><a href="#oracle-streaming-metrics-offset-scn"><code>OffsetScn</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The system change number currently written to the connector&#8217;s offsets.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-currentredologfilename"></a><a href="#oracle-streaming-metrics-currentredologfilename"><code>CurrentRedoLogFileName</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Array of the log files that are currently mined.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-minimumminedlogcount"></a><a href="#oracle-streaming-metrics-minimumminedlogcount"><code>MinimumMinedLogCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum number of logs specified for any LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maximumminedlogcount"></a><a href="#oracle-streaming-metrics-maximumminedlogcount"><code>MaximumMinedLogCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of logs specified for any LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-redologstatus"></a><a href="#oracle-streaming-metrics-redologstatus"><code>RedoLogStatus</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Array of the current state for each mined logfile with the format <code><em>filename</em>|<em>status</em></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-switchcounter"></a><a href="#oracle-streaming-metrics-switchcounter"><code>SwitchCounter</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of times the database has performed a log switch for the last day.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lastcaptureddmlcount"></a><a href="#oracle-streaming-metrics-lastcaptureddmlcount"><code>LastCapturedDmlCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of DML operations observed in the last LogMiner session query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maxcaptureddmlinbatch"></a><a href="#oracle-streaming-metrics-maxcaptureddmlinbatch"><code>MaxCapturedDmlInBatch</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of DML operations observed while processing a single LogMiner session query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalcaptureddmlcount"></a><a href="#oracle-streaming-metrics-totalcaptureddmlcount"><code>TotalCapturedDmlCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of DML operations observed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-fetchingquerycount"></a><a href="#oracle-streaming-metrics-fetchingquerycount"><code>FetchingQueryCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of LogMiner session query (aka batches) performed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lastdurationoffetchqueryinmilliseconds"></a><a href="#oracle-streaming-metrics-lastdurationoffetchqueryinmilliseconds"><code>LastDurationOfFetchQueryInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The duration of the last LogMiner session query&#8217;s fetch in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maxdurationoffetchqueryinmilliseconds"></a><a href="#oracle-streaming-metrics-maxdurationoffetchqueryinmilliseconds"><code>MaxDurationOfFetchQueryInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum duration of any LogMiner session query&#8217;s fetch in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lastbatchprocessingtimeinmilliseconds"></a><a href="#oracle-streaming-metrics-lastbatchprocessingtimeinmilliseconds"><code>LastBatchProcessingTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The duration for processing the last LogMiner query batch results in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalparsetimeinmilliseconds"></a><a href="#oracle-streaming-metrics-totalparsetimeinmilliseconds"><code>TotalParseTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The time in milliseconds spent parsing DML event SQL statements.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lastminingsessionstarttimeinmilliseconds"></a><a href="#oracle-streaming-metrics-lastminingsessionstarttimeinmilliseconds"><code>LastMiningSessionStartTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The duration in milliseconds to start the last LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maxminingsessionstarttimeinmilliseconds"></a><a href="#oracle-streaming-metrics-maxminingsessionstarttimeinmilliseconds"><code>MaxMiningSessionStartTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The longest duration in milliseconds to start a LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalminingsessionstarttimeinmilliseconds"></a><a href="#oracle-streaming-metrics-totalminingsessionstarttimeinmilliseconds"><code>TotalMiningSessionStartTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total duration in milliseconds spent by the connector starting LogMiner sessions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-minbatchprocessingtimeinmilliseconds"></a><a href="#oracle-streaming-metrics-minbatchprocessingtimeinmilliseconds"><code>MinBatchProcessingTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum duration in milliseconds spent processing results from a single LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maxbatchprocessingtimeinmilliseconds"></a><a href="#oracle-streaming-metrics-maxbatchprocessingtimeinmilliseconds"><code>MaxBatchProcessingTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum duration in milliseconds spent processing results from a single LogMiner session.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalprocessingtimeinmilliseconds"></a><a href="#oracle-streaming-metrics-totalprocessingtimeinmilliseconds"><code>TotalProcessingTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total duration in milliseconds spent processing results from LogMiner sessions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalresultsetnexttimeinmilliseconds"></a><a href="#oracle-streaming-metrics-totalresultsetnexttimeinmilliseconds"><code>TotalResultSetNextTimeInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total duration in milliseconds spent by the JDBC driver fetching the next row to be processed from the log mining view.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-totalprocessedrows"></a><a href="#oracle-streaming-metrics-totalprocessedrows"><code>TotalProcessedRows</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of rows processed from the log mining view across all sessions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-batchsize"></a><a href="#oracle-streaming-metrics-batchsize"><code>BatchSize</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of entries fetched by the log mining query per database round-trip.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-millisecondtosleepbetweenminingquery"></a><a href="#oracle-streaming-metrics-millisecondtosleepbetweenminingquery"><code>MillisecondToSleepBetweenMiningQuery</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds the connector sleeps before fetching another batch of results from the log mining view.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-maxbatchprocessingthroughput"></a><a href="#oracle-streaming-metrics-maxbatchprocessingthroughput"><code>MaxBatchProcessingThroughput</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of rows/second processed from the log mining view.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-averagebatchprocessingthroughput"></a><a href="#oracle-streaming-metrics-averagebatchprocessingthroughput"><code>AverageBatchProcessingThroughput</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The average number of rows/second processed from the log mining.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lastbatchprocessingthroughput"></a><a href="#oracle-streaming-metrics-lastbatchprocessingthroughput"><code>LastBatchProcessingThroughput</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The average number of rows/second processed from the log mining view for the last batch.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-networkconnectionproblemscounter"></a><a href="#oracle-streaming-metrics-networkconnectionproblemscounter"><code>NetworkConnectionProblemsCounter</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of connection problems detected.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-hourstokeeptransactioninbuffer"></a><a href="#oracle-streaming-metrics-hourstokeeptransactioninbuffer"><code>HoursToKeepTransactionInBuffer</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of hours that transactions are retained by the connector&#8217;s in-memory buffer without being committed or rolled back before being discarded.
See <a href="#oracle-property-log-mining-transaction-retention-hours"><code>log.mining.transaction.retention</code></a> for more details.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-number-of-active-transactions"></a><a href="#oracle-streaming-metrics-number-of-active-transactions"><code>NumberOfActiveTransactions</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of current active transactions in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-number-of-committed-transactions"></a><a href="#oracle-streaming-metrics-number-of-committed-transactions"><code>NumberOfCommittedTransactions</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of committed transactions in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-number-of-rolledback-transactions"></a><a href="#oracle-streaming-metrics-number-of-rolledback-transactions"><code>NumberOfRolledBackTransactions</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of rolled back transactions in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-commit-throughput"></a><a href="#oracle-streaming-metrics-commit-throughput"><code>CommitThroughput</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The average number of committed transactions per second in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-registered-dml-count"></a><a href="#oracle-streaming-metrics-registered-dml-count"><code>RegisteredDmlCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of registered DML operations in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-lag-from-source-in-milliseconds"></a><a href="#oracle-streaming-metrics-lag-from-source-in-milliseconds"><code>LagFromSourceInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The time difference in milliseconds between when a change occurred in the transaction logs and when its added to the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-max-lag-from-source-in-milliseconds"></a><a href="#oracle-streaming-metrics-max-lag-from-source-in-milliseconds"><code>MaxLagFromSourceInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum time difference in milliseconds between when a change occurred in the transaction logs and when its added to the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-min-lag-from-source-in-milliseconds"></a><a href="#oracle-streaming-metrics-min-lag-from-source-in-milliseconds"><code>MinLagFromSourceInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum time difference in milliseconds between when a change occurred in the transaction logs and when its added to the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-abandoned-transaction-ids"></a><a href="#oracle-streaming-metrics-abandoned-transaction-ids"><code>AbandonedTransactionIds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of abandoned transaction identifiers removed from the transaction buffer due to their age.
See <a href="#oracle-property-log-mining-transaction-retention-hours"><code>log.mining.transaction.retention.hours</code></a> for details.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-rolled-back-transaction-ids"></a><a href="#oracle-streaming-metrics-rolled-back-transaction-ids"><code>RolledBackTransactionIds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of transaction identifiers that have been mined and rolled back in the transaction buffer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-last-commit-duration-in-milliseconds"></a><a href="#oracle-streaming-metrics-last-commit-duration-in-milliseconds"><code>LastCommitDurationInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The duration of the last transaction buffer commit operation in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-max-commit-duration-in-milliseconds"></a><a href="#oracle-streaming-metrics-max-commit-duration-in-milliseconds"><code>MaxCommitDurationInMilliseconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The duration of the longest transaction buffer commit operation in milliseconds.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-error-count"></a><a href="#oracle-streaming-metrics-error-count"><code>ErrorCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of errors detected.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-warning-count"></a><a href="#oracle-streaming-metrics-warning-count"><code>WarningCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of warnings detected.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-scn-freeze-count"></a><a href="#oracle-streaming-metrics-scn-freeze-count"><code>ScnFreezeCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of times the system change number has been checked for advancement and remains unchanged.
This is an indicator that long-running transaction(s) are ongoing and preventing the connector from flushing the latest processed system change number to the connector&#8217;s offsets.
Under optimal operations, this should always be or remain close to <code>0</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-unparsable-ddl-count"></a><a href="#oracle-streaming-metrics-unparsable-ddl-count"><code>UnparsableDdlCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of DDL records that have been detected but could not be parsed by the DDL parser.
This should always be <code>0</code>; however when allowing unparsable DDL to be skipped, this metric can be used to determine if any warnings have been written to the connector logs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-mining-session-user-global-area-memory-in-bytes"></a><a href="#oracle-streaming-metrics-mining-session-user-global-area-memory-in-bytes"><code>+MiningSessionUserGlobalAreaMemoryInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current mining session&#8217;s user global area (UGA) memory consumption in bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-mining-session-user-global-area-max-memory-in-bytes"></a><a href="#oracle-streaming-metrics-mining-session-user-global-area-max-memory-in-bytes"><code>+MiningSessionUserGlobalAreaMaxMemoryInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum mining session&#8217;s user global area (UGA) memory consumption in bytes across all mining sessions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-mining-session-process-global-area-memory-in-bytes"></a><a href="#oracle-streaming-metrics-mining-session-process-global-area-memory-in-bytes"><code>+MiningSessionProcessGlobalAreaMemoryInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current mining session&#8217;s process global area (PGA) memory consumption in bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-streaming-metrics-mining-session-process-global-area-max-memory-in-bytes"></a><a href="#oracle-streaming-metrics-mining-session-process-global-area-max-memory-in-bytes"><code>+MiningSessionProcessGlobalAreaMaxMemoryInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum mining session&#8217;s process global area (PGA) memory consumption in bytes across all mining sessions.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="oracle-schema-history-metrics"><a class="anchor" href="#oracle-schema-history-metrics"></a>Schema History Metrics</h3>
<div id="oracle-monitoring-schema-history" class="paragraph">
<p>The <strong>MBean</strong> is <code>debezium.oracle:type=connector-metrics,context=schema-history,server=<em>&lt;oracle.server.name&gt;</em></code>.</p>
</div>
<div class="paragraph">
<p>The following table lists the schema history metrics that are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-status_oracle"></a><a href="#connectors-shist-metric-status_oracle"><code>Status</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>One of <code>STOPPED</code>, <code>RECOVERING</code> (recovering history from the storage), <code>RUNNING</code> describing the state of the database history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-recoverystarttime_oracle"></a><a href="#connectors-shist-metric-recoverystarttime_oracle"><code>RecoveryStartTime</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The time in epoch seconds at what recovery has started.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-changesrecovered_oracle"></a><a href="#connectors-shist-metric-changesrecovered_oracle"><code>ChangesRecovered</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of changes that were read during recovery phase.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-changesapplied_oracle"></a><a href="#connectors-shist-metric-changesapplied_oracle"><code>ChangesApplied</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>the total number of schema changes applied during recovery and runtime.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-millisecondssincelastrecoveredchange_oracle"></a><a href="#connectors-shist-metric-millisecondssincelastrecoveredchange_oracle"><code>MilliSecondsSinceLast&#8203;RecoveredChange</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds that elapsed since the last change was recovered from the history store.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-millisecondssincelastappliedchange_oracle"></a><a href="#connectors-shist-metric-millisecondssincelastappliedchange_oracle"><code>MilliSecondsSinceLast&#8203;AppliedChange</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds that elapsed since the last change was applied.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-lastrecoveredchange_oracle"></a><a href="#connectors-shist-metric-lastrecoveredchange_oracle"><code>LastRecoveredChange</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The string representation of the last change recovered from the history store.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-shist-metric-lastappliedchange_oracle"></a><a href="#connectors-shist-metric-lastappliedchange_oracle"><code>LastAppliedChange</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The string representation of the last applied change.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="surrogate-schema-evolution"><a class="anchor" href="#surrogate-schema-evolution"></a>Surrogate schema evolution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Oracle connector automatically tracks and applies table schema changes by parsing DDL from the redo logs.
If the DDL parser encounters an incompatible statement, if needed, the connector provides an alternative way to apply the schema change.</p>
</div>
<div class="paragraph">
<p>By default, the connector stops when it encountered a DDL statement that it cannot parse.
You can use Debezium <a href="/documentation/reference/configuration/signalling">signalling</a> to trigger the update of the database schema from such DDL statements.</p>
</div>
<div class="paragraph">
<p>The type of the schema update action is <code>schema-changes</code>.
This action updates the schema of all tables enumerated in the signal parameters.
The message does not contain the update to the schema.
Instead, it contains the complete new schema structure.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Action parameters</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>database</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Oracle database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the schema where changes are applied.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array containing the requested schema updates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of the schema change, usually <code>ALTER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully-qualified name of the table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully-qualified name of the table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.table.defaultCharsetName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The character set name used for the table if different from database default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.table.primaryKeyColumnNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array with the name of columns composing the primary key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changes.table.columns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array with the column metadata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the column</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.jdbcType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The JDBC type of the column as defined at <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/Types.html">JDBC API</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.typeName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the column type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.typeExpression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The full column type definition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.charsetName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The column character set if different from the default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The length/size constraint of the column</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.scale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scale of numeric column</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.position</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The position of the column in the table starting with <code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean <code>true</code> if column value is not mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.autoIncremented</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean <code>true</code> if column value is automatically calculated from a sequence</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&#8230;&#8203;columns.generated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean <code>true</code> if column value is automatically calculated</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After the <code>schema-changes</code> signal is inserted, the connector must be restarted with an altered configuration that includes specifying the  <a href="#oracle-property-database-history-skip-unparseable-ddl"><code>database.history.skip.unparseable.ddl</code></a> option as <code>true</code>.
After the connector&#8217;s commit SCN advances beyond the DDL change, to prevent unparseable DDL statements from being skipped unexpectedly, return the connector configuration to its previous state.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Example of a logging record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>924e3ff8-2245-43ca-ba77-2af9af02fa07</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>schema-changes</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "database":"ORCLPDB1",
   "schema":"DEBEZIUM",
   "changes":[
      {
         "type":"ALTER",
         "id":"\"ORCLPDB1\".\"DEBEZIUM\".\"CUSTOMER\"",
         "table":{
            "defaultCharsetName":null,
            "primaryKeyColumnNames":[
               "ID",
               "NAME"
            ],
            "columns":[
               {
                  "name":"ID",
                  "jdbcType":2,
                  "typeName":"NUMBER",
                  "typeExpression":"NUMBER",
                  "charsetName":null,
                  "length":9,
                  "scale":0,
                  "position":1,
                  "optional":false,
                  "autoIncremented":false,
                  "generated":false
               },
               {
                  "name":"NAME",
                  "jdbcType":12,
                  "typeName":"VARCHAR2",
                  "typeExpression":"VARCHAR2",
                  "charsetName":null,
                  "length":1000,
                  "position":2,
                  "optional":true,
                  "autoIncremented":false,
                  "generated":false
               },
               {
                  "name":"SCORE",
                  "jdbcType":2,
                  "typeName":"NUMBER",
                  "typeExpression":"NUMBER",
                  "charsetName":null,
                  "length":6,
                  "scale":2,
                  "position":3,
                  "optional":true,
                  "autoIncremented":false,
                  "generated":false
               },
               {
                  "name":"REGISTERED",
                  "jdbcType":93,
                  "typeName":"TIMESTAMP(6)",
                  "typeExpression":"TIMESTAMP(6)",
                  "charsetName":null,
                  "length":6,
                  "position":4,
                  "optional":true,
                  "autoIncremented":false,
                  "generated":false
               }
            ]
         }
      }
   ]
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="oracle-xstreams-support"><a class="anchor" href="#oracle-xstreams-support"></a>XStreams support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Oracle connector by default ingests changes using native Oracle LogMiner.
The connector can be toggled to use Oracle XStream instead.
To configure the connector to use Oracle XStream, you must apply specific database and connector configurations that differ from those that you use with LogMiner.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>To use the XStream API, you must have a license for the GoldenGate product.
Installing GoldenGate is not required.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_preparing_the_database_2"><a class="anchor" href="#_preparing_the_database_2"></a>Preparing the Database</h3>
<div class="listingblock">
<div class="title">Configuration needed for Oracle XStream</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ORACLE_SID=ORCLCDB dbz_oracle sqlplus /nolog

CONNECT sys/top_secret AS SYSDBA
alter system set db_recovery_file_dest_size = 5G;
alter system set db_recovery_file_dest = '/opt/oracle/oradata/recovery_area' scope=spfile;
alter system set enable_goldengate_replication=true;
shutdown immediate
startup mount
alter database archivelog;
alter database open;
-- Should show "Database log mode: Archive Mode"
archive log list

exit;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition, supplemental logging must be enabled for captured tables or the database in order for data changes to capture the <em>before</em> state of changed database rows.
The following illustrates how to configure this on a specific table, which is the ideal choice to minimize the amount of information captured in the Oracle redo logs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">ALTER TABLE inventory.customers ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_xstream_users_for_the_connector"><a class="anchor" href="#_creating_xstream_users_for_the_connector"></a>Creating XStream users for the connector</h3>
<div class="paragraph">
<p>The Debezium Oracle connector requires that users accounts be set up with specific permissions so that the connector can capture change events.
The following briefly describes these user configurations using a multi-tenant database model.</p>
</div>
<div id="oracle-create-users-xstream" class="listingblock">
<div class="title">Creating an XStream Administrator user</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
  CREATE TABLESPACE xstream_adm_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/xstream_adm_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLPDB1 as sysdba
  CREATE TABLESPACE xstream_adm_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/ORCLPDB1/xstream_adm_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
  CREATE USER c##dbzadmin IDENTIFIED BY dbz
    DEFAULT TABLESPACE xstream_adm_tbs
    QUOTA UNLIMITED ON xstream_adm_tbs
    CONTAINER=ALL;

  GRANT CREATE SESSION, SET CONTAINER TO c##dbzadmin CONTAINER=ALL;

  BEGIN
     DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE(
        grantee                 =&gt; 'c##dbzadmin',
        privilege_type          =&gt; 'CAPTURE',
        grant_select_privileges =&gt; TRUE,
        container               =&gt; 'ALL'
     );
  END;
  /

  exit;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Creating the connector&#8217;s XStream user</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
  CREATE TABLESPACE xstream_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/xstream_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLPDB1 as sysdba
  CREATE TABLESPACE xstream_tbs DATAFILE '/opt/oracle/oradata/ORCLCDB/ORCLPDB1/xstream_tbs.dbf'
    SIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;
  exit;

sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
  CREATE USER c##dbzuser IDENTIFIED BY dbz
    DEFAULT TABLESPACE xstream_tbs
    QUOTA UNLIMITED ON xstream_tbs
    CONTAINER=ALL;

  GRANT CREATE SESSION TO c##dbzuser CONTAINER=ALL;
  GRANT SET CONTAINER TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT ON V_$DATABASE to c##dbzuser CONTAINER=ALL;
  GRANT FLASHBACK ANY TABLE TO c##dbzuser CONTAINER=ALL;
  GRANT SELECT_CATALOG_ROLE TO c##dbzuser CONTAINER=ALL;
  GRANT EXECUTE_CATALOG_ROLE TO c##dbzuser CONTAINER=ALL;
  exit;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_an_xstream_outbound_server"><a class="anchor" href="#_create_an_xstream_outbound_server"></a>Create an XStream Outbound Server</h3>
<div class="paragraph">
<p>Create an <a href="https://docs.oracle.com/cd/E11882_01/server.112/e16545/xstrm_cncpt.htm#XSTRM1088">XStream Outbound server</a>
(given the right privileges, this might be done automatically by the connector going forward, see <a href="https://issues.redhat.com/browse/DBZ-721">DBZ-721</a>):</p>
</div>
<div class="listingblock">
<div class="title">Create an XStream Outbound Server</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">sqlplus c##dbzadmin/dbz@//localhost:1521/ORCLCDB
DECLARE
  tables  DBMS_UTILITY.UNCL_ARRAY;
  schemas DBMS_UTILITY.UNCL_ARRAY;
BEGIN
    tables(1)  := NULL;
    schemas(1) := 'debezium';
  DBMS_XSTREAM_ADM.CREATE_OUTBOUND(
    server_name     =&gt;  'dbzxout',
    table_names     =&gt;  tables,
    schema_names    =&gt;  schemas);
END;
/
exit;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When setting up an XStream Outbound Server to capture changes from a pluggable database,
the <code>source_container_name</code> parameter should be provided specifying the pluggable database name.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Configure the XStream user account to connect to the XStream Outbound Server</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">sqlplus sys/top_secret@//localhost:1521/ORCLCDB as sysdba
BEGIN
  DBMS_XSTREAM_ADM.ALTER_OUTBOUND(
    server_name  =&gt; 'dbzxout',
    connect_user =&gt; 'c##dbzuser');
END;
/
exit;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A single XStream Outbound server cannot be shared by multiple Debezium Oracle connectors.
Each connector requires a unique XStream Outbound connector to be configured.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="selecting-the-adapter"><a class="anchor" href="#selecting-the-adapter"></a>Configuring the XStream adapter</h3>
<div class="paragraph">
<p>By default, Debezium uses Oracle LogMiner to ingest change events from Oracle.
You can adjust the connector configuration to enable the connector to use the Oracle XStreams adapter.</p>
</div>
<div class="paragraph">
<p>The following configuration example adds the properties <code>database.connection.adapter</code> and <code>database.out.server.name</code> to enable the connector to use the XStream API implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "inventory-connector",
    "config": {
        "connector.class" : "io.debezium.connector.oracle.OracleConnector",
        "tasks.max" : "1",
        "database.server.name" : "server1",
        "database.hostname" : "&lt;oracle ip&gt;",
        "database.port" : "1521",
        "database.user" : "c##dbzuser",
        "database.password" : "dbz",
        "database.dbname" : "ORCLCDB",
        "database.pdb.name" : "ORCLPDB1",
        "database.history.kafka.bootstrap.servers" : "kafka:9092",
        "database.history.kafka.topic": "schema-changes.inventory",
        "database.connection.adapter": "xstream",
        "database.out.server.name" : "dbzxout"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="oracle-xstreams-connector-properties"><a class="anchor" href="#oracle-xstreams-connector-properties"></a>XStream connector properties</h3>
<div class="paragraph">
<p>The following configuration properties are <em>required</em> when using XStreams unless a default value is available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Property</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Description</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="oracle-property-database-out-server-name"></a><a href="#oracle-property-database-out-server-name"><code>database.out.server.name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the XStream outbound server configured in the database.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oracle-when-things-go-wrong"><a class="anchor" href="#oracle-when-things-go-wrong"></a>Behavior when things go wrong</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debezium is a distributed system that captures all changes in multiple upstream databases; it never misses or loses an event.
When the system is operating normally or being managed carefully then Debezium provides <em>exactly once</em> delivery of every change event record.</p>
</div>
<div class="paragraph">
<p>If a fault occurs, Debezium does not lose any events.
However, while it is recovering from the fault, it might repeat some change events.
In these abnormal situations, Debezium, like Kafka, provides <em>at least once</em> delivery of change events.</p>
</div>
<div class="paragraph">
<p>The rest of this section describes how Debezium handles various kinds of faults and problems.</p>
</div>
<div class="sect2">
<h3 id="oracle-cannot-reference-overflow-table"><a class="anchor" href="#oracle-cannot-reference-overflow-table"></a>ORA-25191 - Cannot reference overflow table of an index-organized table</h3>
<div class="paragraph">
<p>Oracle might issue this error during the snapshot phase when encountering an index-organized table (IOT).
This error means that the connector has attempted to execute an operation that must be executed against the parent index-organized table that contains the specified overflow table.</p>
</div>
<div class="paragraph">
<p>To resolve this, the IOT name used in the SQL operation should be replaced with the parent index-organized table name.
To determine the parent index-organized table name, use the following SQL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">SELECT IOT_NAME
  FROM DBA_TABLES
 WHERE OWNER='&lt;tablespace-owner&gt;'
   AND TABLE_NAME='&lt;iot-table-name-that-failed&gt;'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The connector&#8217;s <code>table.include.list</code> or <code>table.exclude.list</code> configuration options should then be adjusted to explicitly include or exclude the appropriate tables to avoid the connector from attempting to capture changes from the child index-organized table.</p>
</div>
</div>
<div class="sect2">
<h3 id="oracle-sys-system-change-not-emitted"><a class="anchor" href="#oracle-sys-system-change-not-emitted"></a>LogMiner adapter does not capture changes made by SYS or SYSTEM</h3>
<div class="paragraph">
<p>Oracle uses the <code>SYS</code> and <code>SYSTEM</code> accounts for lots of internal changes and therefore the connector automatically filters changes made by these users when fetching changes from LogMiner.
Never use the <code>SYS</code> or <code>SYSTEM</code> user accounts for changes to be emitted by the Debezium Oracle connector.</p>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2021 Debezium Community</div>
        </div>
    </footer>
</main>
</div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../debezium-antora/js/site.js"></script>
<script async src="../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>